## H002: agentic-workflows 工具是元编程的技术基础

**状态**: `proposed`

**提出者**: workflow-case-study (Run #25)  
**提出日期**: 2026-01-09  
**最后更新**: 2026-01-09

---

### 观察依据

在分析 `metrics-collector` 时，首次发现 `agentic-workflows` 工具的使用：

```yaml
tools:
  agentic-workflows:   # 首次出现！
  github:
    mode: remote
    toolsets: [default]
  repo-memory:
    branch-name: memory/meta-orchestrators
    file-glob: "metrics/**"
```

**工具能力**：
- `status` 工具：获取所有工作流列表
- `logs` 工具：下载指定时间范围的工作流运行日志
  - 支持相对时间表达式：`start_date: "-1d"`
  - 提供结构化日志数据（包含 workflow_name, conclusion, tokens, safe_outputs 等）

**关键发现**：
- 在之前分析的 13 个工作流中**从未见过**此工具
- 首次出现在基础设施级工作流（metrics-collector）中
- 该工具提供了**反射能力** - 工作流可以查询其他工作流的运行数据

**依赖链**：
```
agentic-workflows 工具
    ↓ (提供反射能力)
metrics-collector
    ↓ (提供聚合数据)
Meta-Orchestrators (agent-performance-analyzer, workflow-health-manager, campaign-manager)
```

---

### 猜想陈述

**我认为**: `agentic-workflows` 工具提供的反射能力（查询其他工作流的运行数据）是实现 Meta-Orchestrator 模式的必要条件。

**推理**：
1. Meta-Orchestrator 的职责是"监控工作流"（元层级）
2. 要监控工作流，必须能访问工作流的运行数据（日志、状态、指标）
3. `agentic-workflows` 工具正是提供这种元数据访问能力
4. 没有此工具，Meta-Orchestrator 只能通过 GitHub API 间接推断（效率低、数据不完整）

---

### 验证标准

**证实条件** (满足任一):
- [ ] 所有 Meta-Orchestrator 都直接或间接使用 `agentic-workflows` 工具
- [ ] 找到官方文档明确说明此工具是元编程的推荐方式
- [ ] 找到不使用此工具实现 Meta-Orchestrator 的高复杂度案例

**证伪条件** (满足任一):
- [ ] 找到成功的 Meta-Orchestrator 不使用 `agentic-workflows` 工具
- [ ] 证明通过 GitHub API 可以更高效地获取相同数据
- [ ] 发现 `agentic-workflows` 工具有严重的局限性导致无法使用

**边界探索**:
- `agentic-workflows` 工具能提供哪些 GitHub API 无法提供的数据？（如 token 使用量）
- 该工具是否有访问限制或性能瓶颈？
- 是否存在不需要反射能力的 Meta-Orchestrator？

---

### 证据链

| 日期 | 贡献者 | 类型 | 摘要 | 权重 |
|------|--------|------|------|------|
| 2026-01-09 | workflow-case-study #25 | support | metrics-collector 依赖 agentic-workflows 实现元数据采集 | +1 |
| 2026-01-09 | workflow-case-study #25 | boundary | 该工具在 13 个已分析工作流中未出现，仅在基础设施级使用 | 0 |

**证据统计**: 支持 1 / 反例 0 / 边界 1

---

### 当前结论

证据不足，需要：
1. **回顾已分析的 Meta-Orchestrator**，确认是否间接依赖 metrics-collector（即间接使用 agentic-workflows）
2. **查找其他使用 agentic-workflows 工具的工作流**（是否还有直接使用的案例？）
3. **探索该工具的能力边界**（能做什么，不能做什么）

**下一步建议**：
- 检查 `agent-performance-analyzer`, `workflow-health-manager`, `campaign-manager` 的数据来源
- 搜索 gh-aw 仓库中所有使用 `agentic-workflows` 工具的工作流
- 查阅 gh-aw 文档，了解该工具的设计初衷和能力边界

---

### 关联猜想

| 关系 | 猜想 | 说明 |
|------|------|------|
| `supports` | H001 | 如果反射能力是必要的，Producer-Consumer 分离中的 Producer 必然需要此工具 |

---

### 备注

**能力边界问题**：
- 该工具能否实时查询正在运行的工作流？还是只能查询已完成的？
- 时间范围的限制是什么？（只能查询最近多久的数据？）
- 是否支持过滤条件？（如只查询失败的运行）

**安全性问题**：
- 该工具是否有权限限制？（能否查询其他仓库的工作流？）
- 是否有访问频率限制？

**需要创建 CAPABILITY-BOUNDARIES.md** 文档来系统化记录这些边界。
