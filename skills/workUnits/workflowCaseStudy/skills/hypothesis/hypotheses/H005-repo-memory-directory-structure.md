# H005: repo-memory 目录结构反映知识类型

> **状态**: proposed  
> **提出日期**: 2026-01-10  
> **来源**: metrics-collector 分析 (Run #3)

---

## 猜想陈述

在 repo-memory 中，目录结构应该反映知识类型，而非随意组织。不同类型的知识使用不同的目录结构模式：
- `patterns/` - 存储**问题模式**（错误类型、失败原因、解决方案）
- `metrics/` - 存储**性能数据**（运行次数、成功率、token 消耗）
- `investigations/` - 存储**调查报告**（根因分析、事件时间线）

---

## 观察依据

| 工作流 | 目录结构 | 知识类型 |
|--------|---------|---------|
| audit-workflows | `patterns/{errors,missing-tools,mcp-failures}.json` | 问题模式 |
| metrics-collector | `metrics/daily/*.json` + `metrics/latest.json` | 性能数据 |
| smoke-detector | `investigations/*.json` + `patterns/*.json` | 调查报告 + 问题模式 |

---

## 验证标准

**证实条件** (满足任一):
- [ ] 找到 3+ 个工作流遵循此目录命名约定
- [ ] 找到官方文档推荐此结构

**证伪条件** (满足任一):
- [ ] 找到成功工作流使用完全不同的目录组织方式
- [ ] 发现目录命名只是偶然，没有设计意图

**边界探索**:
- 如果一个工作流同时产生多种知识类型，应该如何组织？
- 是否有其他未发现的知识类型目录？

---

## 证据链

| 日期 | 贡献者 | 类型 | 摘要 | 权重 |
|------|--------|------|------|------|
| 2026-01-10 | Run #3 | support | metrics-collector 使用 metrics/ 存储性能数据 | +1 |
| 2026-01-09 | Run #26 | support | audit-workflows 使用 patterns/ 存储问题模式 | +1 |

**证据统计**: 支持 2 / 反例 0 / 边界 0

---

## 当前结论

初步观察支持此猜想。需要更多工作流案例来验证是否是通用设计原则。

---

## 关联猜想

| 关系 | 猜想 | 说明 |
|------|------|------|
| `refines` | H003 | H003 只关注 patterns/，H005 扩展到更广泛的目录结构 |
| `subsumes` | H003 | 如果 H005 成立，H003 是它的一个特例 |

---

*最后更新: 2026-01-10*
