# 重构效果评估

> **用途**: 评估重构是否达到预期效果  
> **来源**: skillsMaintenance Skill

---

## 量化指标

| 指标 | 目标 | 测量方法 | 合格标准 |
|------|------|----------|----------|
| **文件大小** | 单文件 < 500 行 | `wc -l SKILL.md` | SKILL.md < 100 行 |
| **查找时间** | < 1 分钟找到目标信息 | 人工测试 | 平均 < 30 秒 |
| **更新冲突率** | < 10% PR 有冲突 | Git 历史分析 | 近 10 次 PR < 1 次冲突 |
| **信息密度** | 核心信息占比 > 80% | 删除冗余内容比例 | 冗余 < 20% |

---

## 质性评估

### 结构清晰度

- [ ] 目录层级 ≤ 3 层？
- [ ] 文件命名有意义？
- [ ] 职责边界清晰？

### 导航便捷度

- [ ] SKILL.md 提供快速索引？
- [ ] 启发式提示覆盖常见场景？
- [ ] 链接跳转正确？

### 职责分离度

- [ ] 每个子目录单一职责？
- [ ] 无交叉依赖？
- [ ] 更新时只需修改一个文件？

### 更新便利度

- [ ] 添加新内容有明确位置？
- [ ] 索引自动/易于更新？
- [ ] 版本冲突风险低？

---

## 评估流程

### 1. 重构后立即评估

完成重构后：
- 运行量化指标检查脚本
- 填写质性评估清单
- 记录到 PR 描述

### 2. 一周后追踪评估

重构一周后：
- 检查是否有链接失效
- 观察更新是否顺畅
- 收集使用反馈

### 3. 一月后回顾评估

重构一月后：
- 统计冲突率
- 评估维护成本
- 决定是否需要进一步调整

---

## 评估报告模板

```markdown
## 重构效果评估报告

### 基本信息
- **重构目标**: {skill-name}
- **重构策略**: {策略}
- **重构日期**: {日期}
- **评估日期**: {日期}

### 量化指标

| 指标 | 重构前 | 重构后 | 目标 | 达标 |
|------|--------|--------|------|------|
| SKILL.md 行数 | {X} | {Y} | < 100 | ✅/❌ |
| 文件总数 | {A} | {B} | - | - |
| 查找时间 | {M}分 | {N}秒 | < 30秒 | ✅/❌ |
| 冲突率 | {P}% | {Q}% | < 10% | ✅/❌ |

### 质性评估

| 维度 | 评分(1-5) | 说明 |
|------|-----------|------|
| 结构清晰度 | {X} | {说明} |
| 导航便捷度 | {X} | {说明} |
| 职责分离度 | {X} | {说明} |
| 更新便利度 | {X} | {说明} |

### 问题与改进

{发现的问题和改进建议}

### 结论

{总体评估：成功/部分成功/需要进一步优化}
```

---

## 失败信号

如果出现以下情况，说明重构可能失败：

| 信号 | 可能原因 | 应对 |
|------|----------|------|
| 查找时间反而增加 | 拆分过细，导航不便 | 合并相关文件 |
| 频繁更新多个文件 | 职责边界不清 | 重新划分边界 |
| 链接频繁失效 | 文件移动过多 | 稳定结构后再重构 |
| 索引维护负担重 | 结构过于复杂 | 简化层级 |
