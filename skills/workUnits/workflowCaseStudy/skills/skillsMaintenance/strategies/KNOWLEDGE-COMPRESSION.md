# 知识压缩策略

> **用途**: 消除冗余，提高信息密度  
> **来源**: skillsMaintenance Skill

---

## 适用场景

- 内容重复 > 3 处
- 可以合并的相似模式
- 可以表格化的列表

---

## 操作步骤

### Step 1: 识别冗余内容

- 查找重复的描述
- 查找可以合并的相似模式
- 查找可以表格化的列表

### Step 2: 提炼核心信息

**压缩前（100 行）**:
```markdown
## Slash Command 模式
Slash Command 模式适用于...（5 段描述）

### 示例 1
（完整代码 20 行）

### 示例 2
（完整代码 20 行）

### 示例 3
（完整代码 20 行）
```

**压缩后（30 行）**:
```markdown
## Slash Command 模式
**适用场景**: 用户交互触发任务
**核心配置**: `on: slash_command`

| 场景 | 配置要点 | 参考案例 |
|------|----------|----------|
| 简单查询 | max: 1 comment | scout |
| 复杂任务 | assign-to-agent | plan |
| 多步骤 | lock-for-agent | campaign-generator |
```

### Step 3: 保留详细示例到单独文件

```bash
mkdir -p examples/
# 移动完整代码到示例文件
# 在 SKILL.md 中保留索引链接
```

---

## 压缩技巧

### 1. 表格化

将重复结构的列表转为表格：

```markdown
# 前
## 模式 A
- 适用场景: X
- 核心配置: Y
- 案例: Z

## 模式 B
- 适用场景: X2
- 核心配置: Y2
- 案例: Z2

# 后
| 模式 | 适用场景 | 核心配置 | 案例 |
|------|----------|----------|------|
| A | X | Y | Z |
| B | X2 | Y2 | Z2 |
```

### 2. 模板化

提取共同结构，只保留差异：

```markdown
# 前
## 模式 A
[100 行完整 YAML]

## 模式 B
[100 行完整 YAML，80% 相同]

# 后
## 基础模板
[20 行核心 YAML]

## 变体
| 模式 | 差异配置 |
|------|----------|
| A | `x: 1` |
| B | `x: 2` |
```

### 3. 引用化

详细内容移到外部，保留引用：

```markdown
# 前
## 模式 A
[50 行描述 + 代码]

# 后
## 模式 A
**适用场景**: ...
**详细示例**: [examples/pattern-a.md](examples/pattern-a.md)
```

---

## 优缺点

### ✅ 优点
- 显著减少文件大小
- 提高信息密度
- 更容易快速扫描

### ❌ 缺点
- 可能丢失细节（需要保留到示例文件）
- 需要良好的抽象能力
- 表格过宽可能影响阅读

---

## 检查清单

- [ ] 核心信息保留完整？
- [ ] 详细示例移到单独文件？
- [ ] 表格宽度合理？
- [ ] 无重复内容？
