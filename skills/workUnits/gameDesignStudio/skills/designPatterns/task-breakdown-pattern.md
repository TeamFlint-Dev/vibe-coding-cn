# 任务拆解设计模式 (Task Breakdown Pattern)

> **模式名称**: 任务拆解设计模式  
> **适用场景**: 复杂游戏系统的设计任务分解  
> **核心价值**: 将宏大愿景分解为可执行的设计任务  
> **首次应用**: Fishing 游戏项目 (2026-01-13)

---

## 🎯 模式概述

### 问题陈述

**设计挑战**:
- 游戏设计涉及多个系统、状态、维度，复杂度高
- 宏观愿景难以直接转化为可执行的工作
- 设计产出难以追踪和验收
- 团队协作缺少明确的任务分工

**传统方法的不足**:
- ❌ 按功能拆解：忽视了感受设计，容易堆砌功能
- ❌ 按模块拆解：忽视了跨模块的体验一致性
- ❌ 拍脑袋拆解：缺少系统性，容易遗漏关键设计

### 模式定义

**核心思想**: 使用 **状态机 × 设计维度** 的矩阵式拆解，确保设计的完整性和可执行性

```
任务拆解 = 状态机分解 × 设计维度分解 × 优先级分层

产出:
├─ 可执行的任务列表 (100+)
├─ 可视化的设计全景图
├─ 可追踪的管理系统
└─ 可验收的质量标准
```

---

## 🏗️ 模式结构

### 第一步: 状态机分解

**方法**: 识别系统的所有状态和转换

```
状态机元素:
├─ 核心状态 (如: IDLE, CASTING, WAITING, HOOKED, SUCCESS, FAILED)
├─ 状态转换 (所有状态间的过渡)
└─ 全局系统 (跨状态的系统)

每个状态包含:
├─ 核心感受 (玩家应该感受到什么)
├─ 持续时间 (状态存在多久)
└─ 关键时刻 (状态中的重要瞬间)
```

**输出**: 状态清单 + 状态关系图

### 第二步: 设计维度分解

**方法**: 为每个状态应用 5 个设计维度

```
F - 感受定义 (Feeling Definition)
├─ 核心感受识别
├─ 感受属性定义 (强度、持续、衔接)
├─ 差异化设计 (首次/重复、稀有度)
└─ 验证方法设计

A - 氛围营造 (Atmosphere Design)
├─ 视觉设计 (特效、动画、UI)
├─ 听觉设计 (音乐、音效、环境音)
└─ 交互设计 (相机、震动、反馈)

R - 仪式设计 (Ritual Design)
├─ 仪式流程 (准备→触发→展开→高潮→余韵)
├─ 时间节奏 (蓄力、爆发、缓冲)
└─ 交互反馈 (按键、UI、动画)

S - 故事包裹 (Story Wrapping)
├─ 显性叙事 (文字、对话)
├─ 隐性叙事 (环境、物品)
└─ 系统叙事 (规则的意义)

P - 无瑕打磨 (Polish & Perfection)
├─ 出戏点识别 (逻辑、反馈、氛围、节奏)
├─ 边界测试 (时间、操作、网络、数据)
└─ 修复方案 (P0/P1/P2 分级)
```

**输出**: 维度清单 + 设计方法

### 第三步: 优先级分层

**方法**: 为每个任务分配优先级

```
P0 (必须做 - MVP):
├─ 核心循环的感受定义
├─ 关键时刻的氛围营造
├─ 基础交互仪式
└─ 破坏体验的瑕疵修复

P1 (应该做 - 完整体验):
├─ 深度氛围营造
├─ 完整仪式设计
├─ 叙事整合
└─ 重要瑕疵修复

P2 (可选做 - 锦上添花):
├─ 高级特性
├─ 细节打磨
├─ 扩展设计
└─ 可选优化
```

**输出**: 优先级矩阵

### 第四步: 矩阵式组合

**公式**: 任务数 = 状态数 × 维度任务数 + 转换任务 + 全局任务

```
Fishing 案例:
├─ 核心状态: 7 个 (IDLE, CASTING, WAITING, HOOKED, SUCCESS, FAILED, MISSED)
├─ 每状态平均任务: 14 个 (F: 2-4, A: 2-7, R: 2-4, S: 1-3, P: 1-2)
├─ 转换设计: 12 个
├─ 全局系统: 11 个
└─ 总计: 122 个任务

任务编号: [状态代码]-[维度]-[序号]
示例: IDLE-F-01, WAIT-A-03, HOOK-R-02
```

**输出**: 完整任务列表

---

## 📋 实施方法

### 准备阶段

**输入资源**:
- [ ] 系统的状态机设计文档
- [ ] 设计哲学和方法论 (如感受驱动设计)
- [ ] 现有的设计模式和案例
- [ ] 项目的设计标准和检查清单

**准备工作**:
1. 审查现有设计模式
2. 理解设计方法论
3. 分析状态机结构
4. 识别关键设计维度

### 执行阶段

**Step 1: 创建状态清单**

```markdown
## 状态清单

| 状态 | 核心感受 | 持续时间 | 关键时刻 |
|------|---------|---------|----------|
| IDLE | 探索、发现 | 不定 | 发现钓点 |
| CASTING | 期待、启动 | 0.5s | 投竿瞬间 |
| ... | ... | ... | ... |
```

**Step 2: 为每个状态生成任务**

模板:
```markdown
## [状态名称] 状态设计 (X 任务)

### 感受定义 (Y 任务)
| 任务ID | 任务名称 | 设计产出 | 优先级 |
|--------|---------|---------|--------|
| [状态]-F-01 | ... | ... | P0/P1/P2 |

### 氛围营造 (Y 任务)
...

### 仪式设计 (Y 任务)
...

### 故事包裹 (Y 任务)
...

### 无瑕打磨 (Y 任务)
...
```

**Step 3: 添加转换和全局任务**

```markdown
## 状态转换设计 (12 任务)
├─ 感受衔接 (3)
├─ 氛围过渡 (3)
├─ 仪式缓冲 (3)
├─ 叙事连续 (2)
└─ 边界处理 (1)

## 全局系统设计 (11 任务)
├─ 进度与成长 (3)
├─ 教学与引导 (2)
├─ UI/UX 一致性 (3)
├─ 数值与平衡 (2)
└─ 可扩展性 (1)
```

**Step 4: 创建配套文档**

1. **设计全景图** - 可视化设计结构
2. **任务追踪系统** - 管理和追踪工具
3. **产出清单** - 设计产出和验收标准

### 验证阶段

**完整性检查**:
- [ ] 所有状态都有对应任务
- [ ] 每个状态覆盖了所有维度
- [ ] 状态转换有专门任务
- [ ] 全局系统有专门任务
- [ ] 任务数量合理 (100-200 为宜)

**可执行性检查**:
- [ ] 每个任务有明确产出
- [ ] 每个任务有验收标准
- [ ] 任务间的依赖清晰
- [ ] 优先级分配合理

**可追踪性检查**:
- [ ] 有进度追踪工具
- [ ] 有验收流程
- [ ] 有协作机制
- [ ] 有知识沉淀计划

---

## 🎨 应用案例

### 案例: Fishing 游戏 (2026-01-13)

**背景**:
- 需求: 为钓鱼状态机的每个状态布置设计任务
- 目标: 覆盖游戏的所有阶段，不少于 100 个任务
- 要求: 完成这些任务后，游戏设计就算完成

**应用过程**:

1. **状态机分解** (30分钟)
   - 识别 7 个核心状态
   - 分析状态转换关系
   - 定义全局系统

2. **设计维度应用** (1小时)
   - 为每个状态应用 F-A-R-S-P 五维度
   - 根据状态特点调整任务数量
   - 确定每个任务的具体产出

3. **优先级分配** (30分钟)
   - P0: 42 个 (核心循环可玩)
   - P1: 58 个 (完整体验)
   - P2: 22 个 (细节打磨)

4. **文档创建** (2小时)
   - 任务主索引: 15,000 字
   - 设计全景图: 13,000 字
   - 任务追踪系统: 11,000 字

**成果**:
- ✅ 122 个可执行的设计任务
- ✅ 52 个设计文档产出
- ✅ 173+ 实施资产清单
- ✅ 完整的管理和追踪系统

**关键数据**:
```
状态数: 7
维度数: 5
核心任务: 99 (7状态 × 平均14任务)
转换任务: 12
全局任务: 11
总任务数: 122
预估工时: ~450h (约8周)
```

---

## ✅ 模式优势

### 1. 完整性保证

**传统方法**: 容易遗漏某些状态或维度的设计

**本模式**: 矩阵式拆解确保所有状态×维度都有覆盖

```
遗漏检测:
├─ 状态维度: 7状态 × 5维度 = 35个单元格
├─ 每个单元格至少1个任务
└─ 缺失单元格一目了然
```

### 2. 可执行性

**传统方法**: "设计钓鱼系统" 过于宏观，难以下手

**本模式**: "定义IDLE状态发现钓点的感受流程" 明确且可执行

```
任务特点:
├─ 明确的设计产出
├─ 明确的验收标准
├─ 预估的工时
└─ 清晰的前置依赖
```

### 3. 可追踪性

**传统方法**: 进度难以量化，"差不多完成了"

**本模式**: 122个任务，完成10个 = 8%进度

```
追踪维度:
├─ 总体进度: 10/122 (8%)
├─ 按状态: IDLE 15/15 (100%), CASTING 0/12 (0%)
├─ 按维度: F 3/23 (13%), A 4/32 (13%)
└─ 按优先级: P0 6/42 (14%), P1 4/58 (7%)
```

### 4. 协作友好

**传统方法**: 角色分工不清，互相等待

**本模式**: 按维度分工，并行推进

```
角色分工:
├─ Visionary: F+S 维度 (41任务)
├─ 美术: A 维度视觉 (15任务)
├─ 音效: A 维度听觉 (10任务)
├─ 交互: R 维度 (25任务)
└─ 系统: P+G 维度 (24任务)
```

---

## ⚠️ 注意事项

### 陷阱 1: 任务粒度过细

**症状**: 任务数量过多 (300+)，管理成本高

**原因**: 每个小细节都拆成独立任务

**解决**:
- 一个任务的产出应该是"一份完整的设计文档"
- 而非"设计一个按钮的颜色"
- 控制任务数在 100-200 之间

### 陷阱 2: 忽视转换和全局

**症状**: 状态内设计完美，但状态间断裂

**原因**: 只关注单个状态，忽视转换和全局系统

**解决**:
- 必须为"状态转换"创建专门任务
- 必须为"全局系统"创建专门任务
- 这部分任务占比约 15-20%

### 陷阱 3: 优先级不合理

**症状**: P0 任务过多，MVP 范围失控

**原因**: 所有任务都想标 P0

**解决**:
- P0 应该只包含"核心循环可玩"的任务
- 严格控制 P0 占比在 30-40%
- 其余分配给 P1 (40-50%) 和 P2 (10-20%)

### 陷阱 4: 缺少验收标准

**症状**: 任务"完成"了，但质量不行

**原因**: 没有明确的验收标准

**解决**:
- 每个任务必须有验收标准
- 必须有评审流程
- 必须有问题分级 (P0/P1/P2)

---

## 🔄 变体扩展

### 变体 1: 简化版 (小型项目)

**适用**: 任务数 < 50

```
简化:
├─ 合并维度: F+A, R+S, P
├─ 减少状态: 只拆核心状态
└─ 扁平化: 不区分转换和全局
```

### 变体 2: 扩展版 (大型项目)

**适用**: 多个系统并行设计

```
扩展:
├─ 多系统矩阵: 系统 × 状态 × 维度
├─ 子系统拆解: 每个系统独立拆解
└─ 系统间依赖: 跨系统的集成任务
```

### 变体 3: 敏捷版 (迭代开发)

**适用**: 快速验证和迭代

```
调整:
├─ Sprint 化: 按2周Sprint组织任务
├─ MVP优先: 只拆P0任务，其余粗略规划
└─ 滚动细化: 每个Sprint结束前细化下个Sprint
```

---

## 📊 效果评估

### 量化指标

**完整性**:
```
覆盖率 = 已拆解单元格 / 总单元格 × 100%
Fishing案例: 99 / (7状态×5维度) = 282% (平均每单元格2.8个任务)
```

**可执行性**:
```
任务明确度 = 有明确产出的任务 / 总任务 × 100%
Fishing案例: 122 / 122 = 100%
```

**可追踪性**:
```
进度可见性 = 可量化追踪的维度数
Fishing案例: 4维度 (总体/状态/维度/优先级)
```

### 定性评价

**设计团队反馈**:
- ✅ "任务清晰，知道从哪开始"
- ✅ "进度可见，不再焦虑"
- ✅ "分工明确，可以并行工作"

**项目管理反馈**:
- ✅ "里程碑明确，便于排期"
- ✅ "风险可控，提前发现问题"
- ✅ "交付物清晰，便于验收"

---

## 🔗 相关模式

| 模式 | 关系 | 说明 |
|------|------|------|
| [钓鱼循环模式](./fishing-loop-pattern.md) | 前置 | 提供状态机设计 |
| [感受驱动设计](../../DESIGN-PHILOSOPHY.md) | 指导 | 提供设计维度 |
| [经济平衡模式](./economy-balance-pattern.md) | 应用 | 数值设计任务的参考 |

---

## 📚 参考资料

### 理论基础
- 感受驱动设计哲学 (DESIGN-PHILOSOPHY.md)
- 游戏系统设计方法论
- 敏捷开发中的用户故事拆分

### 实践案例
- Fishing 游戏任务拆解 (2026-01-13)
- [未来项目案例占位]

### 工具和模板
- 任务卡片模板
- 进度追踪表模板
- 验收清单模板

---

## 📝 使用检查清单

**准备阶段**:
- [ ] 理解了状态机结构
- [ ] 掌握了设计方法论
- [ ] 审查了现有设计模式
- [ ] 准备了设计标准和检查清单

**执行阶段**:
- [ ] 创建了完整的状态清单
- [ ] 为每个状态应用了所有维度
- [ ] 添加了转换和全局任务
- [ ] 分配了合理的优先级
- [ ] 创建了配套文档

**验证阶段**:
- [ ] 完整性检查通过
- [ ] 可执行性检查通过
- [ ] 可追踪性检查通过
- [ ] 团队评审通过

---

## 🎓 知识沉淀

### 关键洞察

1. **矩阵式思维**: 状态×维度的交叉拆解确保完整性
2. **优先级分层**: P0/P1/P2让团队聚焦核心，避免失焦
3. **可视化**: 设计全景图让复杂设计一目了然
4. **工具化**: 追踪系统让进度管理变得简单

### 适用边界

**适合**:
- ✅ 复杂的游戏系统设计
- ✅ 有明确状态机的系统
- ✅ 需要多人协作的项目
- ✅ 需要严格交付的项目

**不适合**:
- ❌ 极简单的系统 (< 20 任务)
- ❌ 概念验证阶段 (快速原型)
- ❌ 单人快速迭代
- ❌ 探索性设计阶段

### 未来改进方向

1. **AI 辅助拆解**: 根据状态机自动生成任务清单
2. **动态优先级**: 根据测试反馈动态调整优先级
3. **自动化追踪**: 集成项目管理工具自动更新进度
4. **模板库**: 积累不同类型系统的拆解模板

---

**维护信息**:
- 创建时间: 2026-01-13
- 维护者: Game Design Studio - Visionary
- 最后更新: 2026-01-13
- 首次应用: Fishing 游戏项目
- 模式成熟度: ⭐⭐⭐⭐ (经过1个项目验证)

---

*"将愿景分解为任务，让设计从抽象变为现实。"*
