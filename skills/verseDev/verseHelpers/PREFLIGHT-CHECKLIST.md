# verseHelpers 前置检查清单

> **用途**: 开始 Helper 层开发前，逐项检查以避免踩坑
>
> **来源**: 本清单从实际踩坑中持续沉淀

---

## ⚡ 快速检查（每次必看）

- [ ] 读取 `CAPABILITY-BOUNDARIES.md` 确认任务可行性
- [ ] 确认是纯函数（无状态、无副作用）
- [ ] 确认返回类型明确（多返回值用 struct）
- [ ] 确认不直接调用 UEFN digest API
- [ ] 命名符合规范（Calculator/Utils/Validator 后缀）

---

## 📋 职责边界检查

### ✅ Helper 应该做的

- [ ] 纯函数计算（输入 → 输出）
- [ ] 数据验证与安全检查
- [ ] 通用工具函数
- [ ] 组合 Wrapper 实现高级操作

### ❌ Helper 不应该做的

- [ ] **不直接调用** digest API（应通过 Wrapper）
- [ ] **不持有** 状态变量
- [ ] **不修改** 外部状态
- [ ] **不发送** 事件
- [ ] **不依赖** 运行时上下文

---

## 🔍 代码质量检查

### 纯函数验证

- [ ] 函数无 `var` 变量（module 级别）
- [ ] 函数无 `set` 操作（外部状态）
- [ ] 相同输入总是产生相同输出
- [ ] 无副作用（不修改参数、不调用 API）

### 命名规范

- [ ] Calculator: `XXXCalculator` （复杂计算）
- [ ] Utils: `XXXUtils` （通用工具）
- [ ] Validator: `XXXValidator` （数据验证）

### 类型安全

- [ ] 参数类型明确
- [ ] 返回类型明确（使用 struct 而非 tuple）
- [ ] 可选类型正确标记 `?`

---

## 🔨 编译验证

- [ ] 本地语法检查通过
- [ ] 远程编译验证通过
  - 验证: `.\tools\verseCompiler\client\compile.ps1 -Wait`
- [ ] 无警告信息

---

## 更新记录

| 日期 | 更新内容 | 关联案例 |
|------|----------|----------|
| 2026-01-06 | 初始版本，基于 SKILL.md (CHANGE-005) | - |
