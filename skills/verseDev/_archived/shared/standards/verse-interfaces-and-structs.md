# Verse è¯­è¨€æ¥å£ä¸ç»“æ„ä½“è¯¦è§£

> **æ–‡æ¡£ç±»å‹**ï¼šè¯­è¨€ç‰¹æ€§è°ƒç ”æ–‡æ¡£  
> **ç›®æ ‡å¹³å°**ï¼šUEFN (Unreal Editor for Fortnite)  
> **è¯­è¨€ç‰ˆæœ¬**ï¼šVerse  
> **æœ€åæ›´æ–°**ï¼š2026-01-04  
> **æ–‡æ¡£æ¥æº**ï¼šåŸºäº Epic Games å®˜æ–¹æ–‡æ¡£æ•´ç†

---

## æ–‡æ¡£è¯´æ˜

æœ¬æ–‡æ¡£åŸºäº `libs/external/epic-docs-crawler/uefn_docs_organized/Verse-Language/` ç›®å½•ä¸‹çš„å®˜æ–¹æ–‡æ¡£è¿›è¡Œè°ƒç ”å’Œæ•´ç†ï¼Œ
ä¸»è¦æ¶µç›– Verse è¯­è¨€ä¸­çš„æ¥å£ï¼ˆInterfaceï¼‰å’Œç»“æ„ä½“ï¼ˆStructï¼‰ä¸¤å¤§å¤åˆç±»å‹ã€‚æ‰€æœ‰ API å’ŒæŠ€æœ¯ç»†èŠ‚å‡æ¥è‡ªå®˜æ–¹æºï¼Œ
ç¡®ä¿å‡†ç¡®æ€§å’Œå¯ä¿¡åº¦ã€‚

**è°ƒç ”èŒƒå›´**ï¼š

- âœ… æ¥å£çš„å®šä¹‰ã€å®ç°ã€ç»§æ‰¿æœºåˆ¶
- âœ… ç»“æ„ä½“çš„å®šä¹‰ã€å­—æ®µã€å®ä¾‹åŒ–æ–¹å¼
- âœ… æ¥å£ä¸ç±»ã€ç»“æ„ä½“çš„å…³ç³»
- âœ… å¯æŒä¹…åŒ–ï¼ˆPersistableï¼‰ç±»å‹ç‰¹æ€§

**å‚è€ƒæ–‡æ¡£**ï¼š

- [Interface in Verse](https://dev.epicgames.com/documentation/en-us/fortnite/interface-in-verse)
- [Struct in Verse](https://dev.epicgames.com/documentation/en-us/fortnite/struct-in-verse)
- [Class in Verse](https://dev.epicgames.com/documentation/en-us/fortnite/class-in-verse)
- [Composite Types in Verse](https://dev.epicgames.com/documentation/en-us/fortnite/composite-types-in-verse)
- [Constructor in Verse](https://dev.epicgames.com/documentation/en-us/fortnite/constructor-in-verse)

---

## ç›®å½•

1. [æ¥å£ï¼ˆInterfaceï¼‰](#æ¥å£interface)
   - [æ¥å£å®šä¹‰](#æ¥å£å®šä¹‰)
   - [æ¥å£å®ç°](#æ¥å£å®ç°)
   - [æ¥å£ç»§æ‰¿](#æ¥å£ç»§æ‰¿)
   - [å¤šæ¥å£å®ç°](#å¤šæ¥å£å®ç°)
   - [æ¥å£ä½œä¸ºç±»å‹](#æ¥å£ä½œä¸ºç±»å‹)
2. [ç»“æ„ä½“ï¼ˆStructï¼‰](#ç»“æ„ä½“struct)
   - [ç»“æ„ä½“å®šä¹‰](#ç»“æ„ä½“å®šä¹‰)
   - [ç»“æ„ä½“å­—æ®µ](#ç»“æ„ä½“å­—æ®µ)
   - [ç»“æ„ä½“å®ä¾‹åŒ–](#ç»“æ„ä½“å®ä¾‹åŒ–)
   - [è®¿é—®ç»“æ„ä½“å­—æ®µ](#è®¿é—®ç»“æ„ä½“å­—æ®µ)
   - [ç»“æ„ä½“ vs ç±»](#ç»“æ„ä½“-vs-ç±»)
   - [å¯æŒä¹…åŒ–ç»“æ„ä½“](#å¯æŒä¹…åŒ–ç»“æ„ä½“)
3. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
4. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## æ¥å£ï¼ˆInterfaceï¼‰

### æ¥å£æ¦‚è¿°

**Interfaceï¼ˆæ¥å£ï¼‰**æ˜¯ Verse ä¸­çš„ä¸€ç§ç±»å‹ï¼Œç”¨äºå®šä¹‰ç±»éœ€è¦å®ç°çš„**è¡Œä¸ºå¥‘çº¦**ã€‚æ¥å£æœ¬èº«ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œ
ä½†å¯ä»¥è¢«ç±»ç»§æ‰¿å¹¶å®ç°å…¶æ–¹æ³•ã€‚

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š

- ğŸ¯ å®šä¹‰è¡Œä¸ºå¥‘çº¦ï¼Œä¸åŒ…å«å…·ä½“å®ç°
- ğŸ”Œ ç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼ˆæ”¯æŒå¤šç»§æ‰¿ï¼‰
- ğŸ“‹ æ¥å£å¯ä»¥ç»§æ‰¿å…¶ä»–æ¥å£
- âš ï¸ ä¸å…è®¸å®šä¹‰å­—æ®µï¼Œåªèƒ½å®šä¹‰æ–¹æ³•ç­¾å
- ğŸ“ ç±»ä¼¼äºæŠ½è±¡ç±»ï¼Œä½†ä¸å…è®¸éƒ¨åˆ†å®ç°

### æ¥å£å®šä¹‰

ä½¿ç”¨ `interface` å…³é”®å­—å®šä¹‰æ¥å£ï¼Œæ¥å£ä¸­çš„æ–¹æ³•**ä¸éœ€è¦æä¾›å®ç°**ï¼š

```verse
# å®šä¹‰ä¸€ä¸ªå¯éª‘ä¹˜çš„æ¥å£
rideable := interface():
    Mount()<decides> : void      # ä¸Šé©¬/éª‘ä¹˜æ–¹æ³•
    Dismount()<decides> : void   # ä¸‹é©¬/ç¦»å¼€æ–¹æ³•
```

**è¯­æ³•è¦ç‚¹**ï¼š

- `interface()` å®šä¹‰ä¸€ä¸ªç‹¬ç«‹æ¥å£
- æ–¹æ³•åªå£°æ˜ç­¾åï¼Œä¸æä¾›å®ç°ï¼ˆæ²¡æœ‰ `=` åçš„å‡½æ•°ä½“ï¼‰
- å¯ä»¥ä½¿ç”¨æ•ˆæœè¯´æ˜ç¬¦ï¼ˆå¦‚ `<decides>`ï¼‰
- è¿”å›ç±»å‹ä½¿ç”¨ `: type` è¯­æ³•

### æ¥å£å®ç°

ç±»é€šè¿‡ç»§æ‰¿æ¥å£æ¥å®ç°æ¥å£å¥‘çº¦ï¼Œå¿…é¡»ä½¿ç”¨ `<override>` è¯´æ˜ç¬¦å®ç°æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•ï¼š

```verse
# è‡ªè¡Œè½¦ç±»å®ç° rideable æ¥å£
bicycle := class(rideable):
    # å…¶ä»–å­—æ®µ...
    
    Mount<override>()<decides> : void =
        # ä¸Šè‡ªè¡Œè½¦çš„é€»è¾‘
        Print("å·²ä¸Šè‡ªè¡Œè½¦")
    
    Dismount<override>()<decides> : void =
        # ä¸‹è‡ªè¡Œè½¦çš„é€»è¾‘
        Print("å·²ä¸‹è‡ªè¡Œè½¦")
```

**å®ç°è¦ç‚¹**ï¼š

- âœ… ç±»ç»§æ‰¿æ¥å£ï¼š`class(interface_name)`
- âœ… æ–¹æ³•å¿…é¡»æ ‡è®° `<override>` è¯´æ˜ç¬¦
- âœ… æ–¹æ³•ç­¾åå¿…é¡»å®Œå…¨åŒ¹é…æ¥å£å®šä¹‰
- âš ï¸ å¿…é¡»å®ç°æ¥å£ä¸­çš„**æ‰€æœ‰**æ–¹æ³•

### æ¥å£ç»§æ‰¿

æ¥å£å¯ä»¥ç»§æ‰¿ï¼ˆæ‰©å±•ï¼‰å…¶ä»–æ¥å£ï¼Œå½¢æˆæ¥å£ç»§æ‰¿é“¾ï¼š

```verse
# å®šä¹‰å¯ç§»åŠ¨æ¥å£
moveable := interface():
    MoveForward() : void

# rideable æ¥å£ç»§æ‰¿ moveable æ¥å£
rideable := interface(moveable):
    Mount()<decides> : void
    Dismount()<decides> : void
```

**ç»§æ‰¿è§„åˆ™**ï¼š

- å­æ¥å£ç»§æ‰¿çˆ¶æ¥å£çš„æ‰€æœ‰æ–¹æ³•
- å®ç°å­æ¥å£çš„ç±»å¿…é¡»å®ç°**æ‰€æœ‰**æ–¹æ³•ï¼ˆåŒ…æ‹¬çˆ¶æ¥å£çš„æ–¹æ³•ï¼‰
- æ¥å£ç»§æ‰¿ä½¿ç”¨ä¸ç±»ç»§æ‰¿ç›¸åŒçš„è¯­æ³•ï¼š`interface(parent_interface)`

### å¤šæ¥å£å®ç°

Verse ä¸­çš„ç±»**å¯ä»¥å®ç°å¤šä¸ªæ¥å£**ï¼Œè¿™æ˜¯ Verse æ”¯æŒå¤šé‡ç»§æ‰¿çš„æ–¹å¼ï¼š

```verse
# å®šä¹‰å¯é”å®šæ¥å£
lockable := interface():
    Lock() : void
    Unlock() : void

# è‡ªè¡Œè½¦åŒæ—¶å®ç° rideable å’Œ lockable æ¥å£
bicycle := class(rideable, lockable):
    # å®ç° rideable æ¥å£çš„æ–¹æ³•
    Mount<override>()<decides> : void =
        Print("å·²ä¸Šè‡ªè¡Œè½¦")
    
    Dismount<override>()<decides> : void =
        Print("å·²ä¸‹è‡ªè¡Œè½¦")
    
    # å®ç° lockable æ¥å£çš„æ–¹æ³•
    Lock<override>() : void =
        Print("è‡ªè¡Œè½¦å·²é”å®š")
    
    Unlock<override>() : void =
        Print("è‡ªè¡Œè½¦å·²è§£é”")
    
    # å®ç°ä» rideable ç»§æ‰¿çš„ moveable æ¥å£æ–¹æ³•
    MoveForward<override>() : void =
        Print("è‡ªè¡Œè½¦å‘å‰ç§»åŠ¨")
```

**å¤šæ¥å£å®ç°è§„åˆ™**ï¼š

- è¯­æ³•ï¼š`class(interface1, interface2, ...)`
- å¿…é¡»å®ç°æ‰€æœ‰æ¥å£çš„æ‰€æœ‰æ–¹æ³•
- å¦‚æœæ¥å£ä¹‹é—´æœ‰ç»§æ‰¿å…³ç³»ï¼Œéœ€å®ç°ç»§æ‰¿é“¾ä¸Šçš„æ‰€æœ‰æ–¹æ³•
- å¯ä»¥åŒæ—¶ç»§æ‰¿ä¸€ä¸ªç±»å’Œå¤šä¸ªæ¥å£ï¼ˆç±»å¿…é¡»æ”¾åœ¨ç¬¬ä¸€ä½ï¼‰

### æ¥å£ä¸ç±»çš„æ··åˆç»§æ‰¿

ç±»å¯ä»¥åŒæ—¶ç»§æ‰¿**ä¸€ä¸ªçˆ¶ç±»**å’Œ**å¤šä¸ªæ¥å£**ï¼š

```verse
# å®šä¹‰åŸºç¡€é©¬ç±»
horse := class(moveable):
    MoveForward<override>() : void =
        Print("é©¬å‘å‰ç§»åŠ¨")

# å®šä¹‰å¸¦é©¬éçš„é©¬ï¼Œç»§æ‰¿ horse ç±»å¹¶å®ç° rideable æ¥å£
saddle_horse := class(horse, rideable):
    Mount<override>()<decides> : void =
        Print("éª‘ä¸Šå¸¦é©¬éçš„é©¬")
    
    Dismount<override>()<decides> : void =
        Print("ä»é©¬ä¸Šä¸‹æ¥")
```

**æ··åˆç»§æ‰¿è§„åˆ™**ï¼š

- âœ… ç±»ç»§æ‰¿è¯­æ³•ï¼š`class(parent_class, interface1, interface2, ...)`
- âš ï¸ **åªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»**ï¼Œä½†å¯ä»¥å®ç°å¤šä¸ªæ¥å£
- âš ï¸ çˆ¶ç±»å¿…é¡»**æ”¾åœ¨ç¬¬ä¸€ä½**
- âœ… ä»çˆ¶ç±»ç»§æ‰¿å­—æ®µå’Œæ–¹æ³•ï¼Œä»æ¥å£ç»§æ‰¿æ–¹æ³•å¥‘çº¦

### æ¥å£ä½œä¸ºç±»å‹

æ¥å£å¯ä»¥ä½œä¸ºç±»å‹ä½¿ç”¨ï¼Œç”¨äºç¼–å†™æ³›å‹ä»£ç ï¼š

```verse
# æ¥å—ä»»ä½•å®ç°äº† rideable æ¥å£çš„å¯¹è±¡
RideAnything(Vehicle : rideable)<decides> : void =
    Vehicle.Mount()
    Print("éª‘ä¹˜ä¸­...")
    Vehicle.Dismount()

# ä½¿ç”¨ç¤ºä¾‹
MyBike := bicycle{...}
MyHorse := saddle_horse{...}

RideAnything(MyBike)    # ä¼ å…¥è‡ªè¡Œè½¦
RideAnything(MyHorse)   # ä¼ å…¥é©¬
```

**ç±»å‹ä½¿ç”¨ä¼˜åŠ¿**ï¼š

- ğŸ¯ å¤šæ€æ€§ï¼šåŒä¸€ä¸ªå‡½æ•°å¯ä»¥å¤„ç†ä¸åŒçš„å®ç°ç±»
- ğŸ”„ å¯æ‰©å±•æ€§ï¼šæ–°å¢å®ç°ç±»æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç 
- ğŸ“ å¥‘çº¦ä¿è¯ï¼šç¼–è¯‘å™¨ç¡®ä¿ä¼ å…¥å¯¹è±¡å®ç°äº†æ‰€éœ€æ–¹æ³•

---

## ç»“æ„ä½“ï¼ˆStructï¼‰

### ç»“æ„ä½“æ¦‚è¿°

**Structï¼ˆç»“æ„ä½“ï¼‰**æ˜¯ Verse ä¸­ç”¨äº**ç»„åˆå¤šä¸ªç›¸å…³å˜é‡**çš„å¤åˆç±»å‹ã€‚ç»“æ„ä½“å¯ä»¥åŒ…å«ä¸åŒç±»å‹çš„å­—æ®µï¼Œ
ç”¨äºå°†ç›¸å…³æ•°æ®æ‰“åŒ…åœ¨ä¸€èµ·ã€‚

**æ ¸å¿ƒç‰¹ç‚¹**ï¼š

- ğŸ“¦ å°†å¤šä¸ªå˜é‡ç»„åˆæˆä¸€ä¸ªé€»è¾‘å•å…ƒ
- ğŸ¯ **å€¼ç±»å‹**ï¼ˆValue Typeï¼‰ï¼Œè€Œéå¼•ç”¨ç±»å‹
- ğŸ”’ å­—æ®µå¯ä»¥æ˜¯ä¸å¯å˜çš„ï¼ˆé»˜è®¤ï¼‰æˆ–å¯å˜çš„ï¼ˆä½¿ç”¨ `var`ï¼‰
- ğŸ’¾ æ”¯æŒå¯æŒä¹…åŒ–ï¼ˆPersistableï¼‰ç‰¹æ€§
- âš¡ é€šè¿‡åŸå‹ï¼ˆArchetypeï¼‰è¿›è¡Œå®ä¾‹åŒ–

### ç»“æ„ä½“å®šä¹‰

ä½¿ç”¨ `struct` å…³é”®å­—å®šä¹‰ç»“æ„ä½“ï¼Œç»“æ„ä½“ä¸­çš„å­—æ®µå®šä¹‰åœ¨ä»£ç å—ä¸­ï¼š

```verse
# å®šä¹‰äºŒç»´åæ ‡ç»“æ„ä½“
coordinates := struct:
    X : float = 0.0
    Y : float = 0.0
```

**è¯­æ³•è¦ç‚¹**ï¼š

- `struct:` å¼€å§‹ç»“æ„ä½“å®šä¹‰
- å­—æ®µä½¿ç”¨ `FieldName : Type = DefaultValue` è¯­æ³•
- å­—æ®µé»˜è®¤å€¼æ˜¯å¯é€‰çš„
- å­—æ®µé»˜è®¤ä¸ºä¸å¯å˜ï¼ˆå¸¸é‡ï¼‰

### ç»“æ„ä½“å­—æ®µ

ç»“æ„ä½“å¯ä»¥åŒ…å«å„ç§ç±»å‹çš„å­—æ®µï¼š

```verse
# å®šä¹‰ç©å®¶ä¿¡æ¯ç»“æ„ä½“
player_info := struct:
    Name : string               # ä¸å¯å˜å­—ç¬¦ä¸²å­—æ®µï¼ˆæ— é»˜è®¤å€¼ï¼‰
    var Score : int = 0          # å¯å˜æ•´æ•°å­—æ®µï¼ˆæœ‰é»˜è®¤å€¼ï¼‰
    Position : coordinates = coordinates{X := 0.0, Y := 0.0}  # åµŒå¥—ç»“æ„ä½“
    var IsAlive : logic = true   # å¯å˜å¸ƒå°”å€¼å­—æ®µ
```

**å­—æ®µç±»å‹**ï¼š

- **ä¸å¯å˜å­—æ®µ**ï¼šé»˜è®¤ï¼Œå®šä¹‰åä¸èƒ½ä¿®æ”¹

  ```verse
  Name : string
  ```

- **å¯å˜å­—æ®µ**ï¼šä½¿ç”¨ `var` å…³é”®å­—ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶ä¿®æ”¹

  ```verse
  var Score : int = 0
  ```

- **åµŒå¥—ç»“æ„ä½“**ï¼šå­—æ®µç±»å‹å¯ä»¥æ˜¯å…¶ä»–ç»“æ„ä½“

  ```verse
  Position : coordinates
  ```

### ç»“æ„ä½“å®ä¾‹åŒ–

ä½¿ç”¨**åŸå‹ï¼ˆArchetypeï¼‰**è¯­æ³•åˆ›å»ºç»“æ„ä½“å®ä¾‹ï¼š

```verse
# æ–¹å¼ 1ï¼šå®Œå…¨æŒ‡å®šæ‰€æœ‰å­—æ®µ
Position := coordinates{X := 1.0, Y := 2.5}

# æ–¹å¼ 2ï¼šä½¿ç”¨é»˜è®¤å€¼ï¼ˆå¯¹äºæœ‰é»˜è®¤å€¼çš„å­—æ®µï¼‰
Origin := coordinates{X := 0.0, Y := 0.0}

# æ–¹å¼ 3ï¼šéƒ¨åˆ†å­—æ®µä½¿ç”¨é»˜è®¤å€¼
PartialPos := coordinates{X := 3.0}  # Y ä½¿ç”¨é»˜è®¤å€¼ 0.0
```

**å®ä¾‹åŒ–è§„åˆ™**ï¼š

- âœ… ä½¿ç”¨ `{FieldName := Value, ...}` è¯­æ³•
- âœ… å¿…é¡»æä¾›**æ²¡æœ‰é»˜è®¤å€¼**çš„å­—æ®µ
- âœ… æœ‰é»˜è®¤å€¼çš„å­—æ®µå¯ä»¥çœç•¥
- âœ… `:=` ç”¨äºèµ‹å€¼ï¼ˆè€Œä¸æ˜¯ `=`ï¼‰

**å¤æ‚ç¤ºä¾‹**ï¼š

```verse
# å®šä¹‰è§’è‰²æ•°æ®ç»“æ„ä½“
character_data := struct:
    Name : string
    var Health : int = 100
    var Mana : int = 50
    Position : coordinates = coordinates{X := 0.0, Y := 0.0}

# åˆ›å»ºè§’è‰²å®ä¾‹
Hero := character_data{
    Name := "å‹‡è€…",
    Health := 150,
    Position := coordinates{X := 10.0, Y := 20.0}
}
# Mana å­—æ®µä½¿ç”¨é»˜è®¤å€¼ 50
```

### è®¿é—®ç»“æ„ä½“å­—æ®µ

ä½¿ç”¨ç‚¹å·ï¼ˆ`.`ï¼‰è®¿é—®ç»“æ„ä½“å­—æ®µï¼š

```verse
# è¯»å–å­—æ®µå€¼
X_Value := Position.X
Y_Value := Position.Y

# ä¿®æ”¹å¯å˜å­—æ®µï¼ˆéœ€è¦ set å…³é”®å­—ï¼‰
set Hero.Health = 120
set Hero.Mana = 30

# ä¸èƒ½ä¿®æ”¹ä¸å¯å˜å­—æ®µï¼ˆç¼–è¯‘é”™è¯¯ï¼‰
# set Hero.Name = "æ–°åå­—"  # âŒ é”™è¯¯ï¼šName ä¸æ˜¯ var å­—æ®µ
```

**è®¿é—®è§„åˆ™**ï¼š

- è¯»å–ï¼š`StructInstance.FieldName`
- ä¿®æ”¹å¯å˜å­—æ®µï¼š`set StructInstance.FieldName = NewValue`
- ä¸å¯å˜å­—æ®µåœ¨å®ä¾‹åŒ–åæ— æ³•ä¿®æ”¹

### ç»“æ„ä½“ vs ç±»

ç»“æ„ä½“å’Œç±»éƒ½æ˜¯å¤åˆç±»å‹ï¼Œä½†æœ‰é‡è¦åŒºåˆ«ï¼š

| ç‰¹æ€§ | ç»“æ„ä½“ï¼ˆStructï¼‰ | ç±»ï¼ˆClassï¼‰ |
|------|-----------------|------------|
| **ç±»å‹** | **å€¼ç±»å‹** | **å¼•ç”¨ç±»å‹** |
| **å¤åˆ¶è¡Œä¸º** | å¤åˆ¶æ—¶åˆ›å»ºæ–°å‰¯æœ¬ | å¤åˆ¶æ—¶å…±äº«åŒä¸€å¯¹è±¡ |
| **å­—æ®µ** | âœ… æ”¯æŒ | âœ… æ”¯æŒ |
| **æ–¹æ³•** | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒ |
| **ç»§æ‰¿** | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒï¼ˆå•ç»§æ‰¿ï¼‰ |
| **æ¥å£å®ç°** | âŒ ä¸æ”¯æŒ | âœ… æ”¯æŒï¼ˆå¤šæ¥å£ï¼‰ |
| **å®ä¾‹åŒ–** | åŸå‹è¯­æ³• `{}` | åŸå‹è¯­æ³• `{}` æˆ–æ„é€ å™¨ |
| **å¯æŒä¹…åŒ–** | âœ… æ”¯æŒ | âœ… æ”¯æŒï¼ˆæœ‰é™åˆ¶ï¼‰ |
| **ä½¿ç”¨åœºæ™¯** | è½»é‡çº§æ•°æ®å®¹å™¨ | è¡Œä¸ºå°è£…ã€å¯¹è±¡å»ºæ¨¡ |

**å€¼ç±»å‹ vs å¼•ç”¨ç±»å‹ç¤ºä¾‹**ï¼š

```verse
# ç»“æ„ä½“ - å€¼ç±»å‹
Point1 := coordinates{X := 1.0, Y := 1.0}
Point2 := Point1  # åˆ›å»ºæ–°å‰¯æœ¬
set Point2.X = 5.0
Print(Point1.X)   # è¾“å‡º: 1.0ï¼ˆPoint1 ä¸å—å½±å“ï¼‰

# ç±» - å¼•ç”¨ç±»å‹
Cat1 := cat{Name := "å°ç™½", Age := 2}
Cat2 := Cat1      # å¼•ç”¨åŒä¸€å¯¹è±¡
set Cat2.Age = 3
Print(Cat1.Age)   # è¾“å‡º: 3ï¼ˆCat1 å’Œ Cat2 æŒ‡å‘åŒä¸€å¯¹è±¡ï¼‰
```

**é€‰æ‹©å»ºè®®**ï¼š

- ä½¿ç”¨**ç»“æ„ä½“**ï¼šçº¯æ•°æ®å®¹å™¨ã€åæ ‡ã€é¢œè‰²ã€é…ç½®æ•°æ®
- ä½¿ç”¨**ç±»**ï¼šéœ€è¦æ–¹æ³•ã€ç»§æ‰¿ã€å¤šæ€çš„å¤æ‚å¯¹è±¡

### å¯æŒä¹…åŒ–ç»“æ„ä½“

ç»“æ„ä½“å¯ä»¥å£°æ˜ä¸º**å¯æŒä¹…åŒ–ï¼ˆPersistableï¼‰**ï¼Œä½¿å…¶æ•°æ®åœ¨æ¸¸æˆä¼šè¯é—´ä¿å­˜ï¼š

```verse
# å®šä¹‰å¯æŒä¹…åŒ–åæ ‡ç»“æ„ä½“
coordinates := struct<persistable>:
    X : float = 0.0
    Y : float = 0.0
```

**å¯æŒä¹…åŒ–æ¡ä»¶**ï¼š

- âœ… ä½¿ç”¨ `<persistable>` è¯´æ˜ç¬¦
- âœ… ä¸èƒ½æ˜¯**å‚æ•°åŒ–ç±»å‹**ï¼ˆæ³›å‹ï¼‰
- âœ… æ‰€æœ‰å­—æ®µä¹Ÿå¿…é¡»æ˜¯å¯æŒä¹…åŒ–ç±»å‹
- âš ï¸ ç»“æ„ä½“å®šä¹‰å‘å¸ƒå**ä¸èƒ½ä¿®æ”¹**ï¼ˆå½±å“å­˜å‚¨å…¼å®¹æ€§ï¼‰

**å¯æŒä¹…åŒ–ç¤ºä¾‹**ï¼š

```verse
# å®šä¹‰ç©å®¶å­˜æ¡£æ•°æ®ï¼ˆå¯æŒä¹…åŒ–ï¼‰
player_save_data := struct<persistable>:
    PlayerID : string = ""
    Level : int = 1
    Experience : int = 0
    LastPosition : coordinates = coordinates{X := 0.0, Y := 0.0}

# åœ¨æ¨¡å—çº§åˆ«å®šä¹‰ weak_map å­˜å‚¨ç©å®¶æ•°æ®
var PlayerDataMap : [player]player_save_data = map{}

# ä¿å­˜ç©å®¶æ•°æ®ï¼ˆè‡ªåŠ¨æŒä¹…åŒ–ï¼‰
SavePlayerData(Player : player, Data : player_save_data) : void =
    if set PlayerDataMap[Player] = Data:
        Print("ç©å®¶æ•°æ®å·²ä¿å­˜")

# åŠ è½½ç©å®¶æ•°æ®
LoadPlayerData(Player : player) : ?player_save_data =
    PlayerDataMap[Player]
```

**ä½¿ç”¨åœºæ™¯**ï¼š

- ç©å®¶è¿›åº¦ä¿å­˜
- æ¸¸æˆé…ç½®æ•°æ®
- æˆå°±å’Œç»Ÿè®¡ä¿¡æ¯
- ä»»ä½•éœ€è¦è·¨ä¼šè¯ä¿ç•™çš„æ•°æ®

---

## æœ€ä½³å®è·µ

### æ¥å£è®¾è®¡åŸåˆ™

1. **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªæ¥å£åº”è¯¥ä»£è¡¨ä¸€ä¸ªæ¸…æ™°çš„è¡Œä¸ºå¥‘çº¦

   ```verse
   # âœ… å¥½ï¼šå•ä¸€èŒè´£
   moveable := interface():
       MoveForward() : void
   
   attackable := interface():
       Attack(Target : agent) : void
   
   # âŒ é¿å…ï¼šèŒè´£æ··æ‚
   game_entity := interface():
       MoveForward() : void
       Attack(Target : agent) : void
       GetHealth() : int
   ```

2. **æ¥å£éš”ç¦»**ï¼šä¸è¦å¼ºè¿«ç±»å®ç°å®ƒä»¬ä¸éœ€è¦çš„æ–¹æ³•

   ```verse
   # âœ… å¥½ï¼šç»†ç²’åº¦æ¥å£
   readable := interface():
       Read() : string
   
   writable := interface():
       Write(Data : string) : void
   
   # ç±»å¯ä»¥åªå®ç°éœ€è¦çš„æ¥å£
   file := class(readable, writable): ...
   console := class(writable): ...  # åªéœ€è¦å†™å…¥
   ```

3. **æ¥å£å‘½å**ï¼šä½¿ç”¨å½¢å®¹è¯æˆ– -able åç¼€

   ```verse
   rideable := interface(): ...   # å¯éª‘ä¹˜çš„
   moveable := interface(): ...   # å¯ç§»åŠ¨çš„
   lockable := interface(): ...   # å¯é”å®šçš„
   ```

### ç»“æ„ä½“ä½¿ç”¨å»ºè®®

1. **æ•°æ®å°è£…**ï¼šä½¿ç”¨ç»“æ„ä½“å°è£…ç›¸å…³æ•°æ®

   ```verse
   # âœ… å¥½ï¼šå°†ç›¸å…³æ•°æ®ç»„åˆåœ¨ä¸€èµ·
   player_stats := struct:
       Health : int = 100
       Mana : int = 50
       Stamina : int = 100
   
   # âŒ é¿å…ï¼šåˆ†æ•£çš„å˜é‡
   var PlayerHealth : int = 100
   var PlayerMana : int = 50
   var PlayerStamina : int = 100
   ```

2. **ä¸å¯å˜ä¼˜å…ˆ**ï¼šé»˜è®¤ä½¿ç”¨ä¸å¯å˜å­—æ®µï¼Œåªåœ¨å¿…è¦æ—¶ä½¿ç”¨ `var`

   ```verse
   # âœ… å¥½ï¼šé…ç½®æ•°æ®ä½¿ç”¨ä¸å¯å˜
   game_config := struct:
       MaxPlayers : int = 16
       MapSize : float = 1000.0
   
   # âœ… å¥½ï¼šè¿è¡Œæ—¶æ•°æ®ä½¿ç”¨å¯å˜
   player_state := struct:
       var CurrentHealth : int = 100
       var IsAlive : logic = true
   ```

3. **é»˜è®¤å€¼**ï¼šä¸ºå­—æ®µæä¾›åˆç†çš„é»˜è®¤å€¼

   ```verse
   # âœ… å¥½ï¼šæä¾›é»˜è®¤å€¼
   spawn_point := struct:
       Position : vector3 = vector3{X := 0.0, Y := 0.0, Z := 0.0}
       Rotation : rotation = IdentityRotation()
   ```

4. **æŒä¹…åŒ–è°¨æ…**ï¼šåªå¯¹éœ€è¦è·¨ä¼šè¯ä¿å­˜çš„æ•°æ®ä½¿ç”¨ `<persistable>`

   ```verse
   # âœ… å¥½ï¼šç©å®¶è¿›åº¦æ•°æ®
   player_progress := struct<persistable>:
       Level : int = 1
       UnlockedLevels : []int = array{}
   
   # âŒ é¿å…ï¼šä¸´æ—¶è¿è¡Œæ—¶æ•°æ®ä¸éœ€è¦æŒä¹…åŒ–
   frame_data := struct:
       var FrameCount : int = 0
       var DeltaTime : float = 0.0
   ```

### æ¥å£ä¸ç»“æ„ä½“çš„ç»„åˆä½¿ç”¨

```verse
# ç»“æ„ä½“å­˜å‚¨æ•°æ®
vehicle_stats := struct:
    Speed : float = 10.0
    MaxFuel : int = 100

# æ¥å£å®šä¹‰è¡Œä¸º
driveable := interface():
    Drive() : void
    Stop() : void

# ç±»ç»„åˆæ•°æ®å’Œè¡Œä¸º
car := class(driveable):
    Stats : vehicle_stats
    var CurrentFuel : int
    
    Drive<override>() : void =
        if CurrentFuel > 0:
            Print("æ±½è½¦ä»¥é€Ÿåº¦ {Stats.Speed} è¡Œé©¶")
            set CurrentFuel -= 1
    
    Stop<override>() : void =
        Print("æ±½è½¦åœæ­¢")
```

---

## å¸¸è§é—®é¢˜

### Q1: æ¥å£å’ŒæŠ½è±¡ç±»æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

**ç­”**ï¼šæ¥å£ç±»ä¼¼äºæŠ½è±¡ç±»ï¼Œä½†æœ‰å…³é”®åŒºåˆ«ï¼š

- æ¥å£**ä¸å…è®¸éƒ¨åˆ†å®ç°**ï¼Œæ‰€æœ‰æ–¹æ³•éƒ½å¿…é¡»æ˜¯çº¯å£°æ˜
- æ¥å£**ä¸èƒ½åŒ…å«å­—æ®µ**
- ç±»å¯ä»¥å®ç°**å¤šä¸ªæ¥å£**ï¼Œä½†åªèƒ½ç»§æ‰¿**ä¸€ä¸ªç±»**

### Q2: ç»“æ„ä½“å¯ä»¥åŒ…å«æ–¹æ³•å—ï¼Ÿ

**ç­”**ï¼šä¸å¯ä»¥ã€‚ç»“æ„ä½“åªèƒ½åŒ…å«å­—æ®µï¼ˆæ•°æ®ï¼‰ï¼Œä¸èƒ½å®šä¹‰æ–¹æ³•ã€‚å¦‚æœéœ€è¦æ–¹æ³•ï¼Œåº”è¯¥ä½¿ç”¨ç±»ã€‚

### Q3: ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç»“æ„ä½“ï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨ç±»ï¼Ÿ

**ç­”**ï¼š

- **ä½¿ç”¨ç»“æ„ä½“**ï¼šçº¯æ•°æ®å®¹å™¨ã€ä¸éœ€è¦æ–¹æ³•ã€ä¸éœ€è¦ç»§æ‰¿ã€å€¼ç±»å‹è¯­ä¹‰
  - ä¾‹å¦‚ï¼šåæ ‡ã€é¢œè‰²ã€é…ç½®æ•°æ®
- **ä½¿ç”¨ç±»**ï¼šéœ€è¦å°è£…è¡Œä¸ºã€éœ€è¦ç»§æ‰¿ã€éœ€è¦å¤šæ€ã€å¼•ç”¨ç±»å‹è¯­ä¹‰
  - ä¾‹å¦‚ï¼šæ¸¸æˆå®ä½“ã€è®¾å¤‡ã€ç®¡ç†å™¨

### Q4: å¯ä»¥ä¿®æ”¹ç»“æ„ä½“å®ä¾‹çš„å­—æ®µå—ï¼Ÿ

**ç­”**ï¼šå–å†³äºå­—æ®µå®šä¹‰ï¼š

- **ä¸å¯å˜å­—æ®µ**ï¼ˆé»˜è®¤ï¼‰ï¼šå®ä¾‹åŒ–åä¸èƒ½ä¿®æ”¹
- **å¯å˜å­—æ®µ**ï¼ˆ`var`ï¼‰ï¼šå¯ä»¥ä½¿ç”¨ `set` ä¿®æ”¹

```verse
my_struct := struct:
    ImmutableField : int = 0
    var MutableField : int = 0

Instance := my_struct{ImmutableField := 10, MutableField := 20}
# set Instance.ImmutableField = 15  # âŒ é”™è¯¯
set Instance.MutableField = 25      # âœ… æ­£ç¡®
```

### Q5: æ¥å£æ–¹æ³•å¿…é¡»ä½¿ç”¨ `<override>` å—ï¼Ÿ

**ç­”**ï¼šæ˜¯çš„ã€‚å½“ç±»å®ç°æ¥å£æ—¶ï¼Œæ‰€æœ‰æ¥å£æ–¹æ³•éƒ½å¿…é¡»æ ‡è®° `<override>` è¯´æ˜ç¬¦ï¼Œä»¥æ˜ç¡®è¡¨ç¤ºè¿™æ˜¯æ¥å£çš„å®ç°ã€‚

### Q6: å¯æŒä¹…åŒ–ç»“æ„ä½“å¯ä»¥ä¿®æ”¹å—ï¼Ÿ

**ç­”**ï¼šå¯æŒä¹…åŒ–ç»“æ„ä½“çš„**å®ä¾‹**å­—æ®µå¯ä»¥ä¿®æ”¹ï¼ˆå¦‚æœæ˜¯ `var`ï¼‰ï¼Œä½†ç»“æ„ä½“çš„**å®šä¹‰**ï¼ˆSchemaï¼‰åœ¨å‘å¸ƒåä¸èƒ½ä¿®æ”¹ã€‚
ä¿®æ”¹å®šä¹‰ä¼šå¯¼è‡´å­˜å‚¨å…¼å®¹æ€§é—®é¢˜ã€‚

### Q7: ç±»å¯ä»¥å®ç°å¤šå°‘ä¸ªæ¥å£ï¼Ÿ

**ç­”**ï¼šç±»å¯ä»¥å®ç°**ä»»æ„æ•°é‡**çš„æ¥å£ï¼Œæ²¡æœ‰é™åˆ¶ã€‚ä½†åªèƒ½ç»§æ‰¿**ä¸€ä¸ª**çˆ¶ç±»ã€‚

```verse
my_class := class(parent_class, interface1, interface2, interface3):
    # å®ç°æ‰€æœ‰æ¥å£çš„æ–¹æ³•
```

### Q8: ç»“æ„ä½“æ”¯æŒç»§æ‰¿å—ï¼Ÿ

**ç­”**ï¼šä¸æ”¯æŒã€‚ç»“æ„ä½“æ˜¯ç®€å•çš„æ•°æ®å®¹å™¨ï¼Œä¸æ”¯æŒç»§æ‰¿ã€‚å¦‚æœéœ€è¦ç»§æ‰¿ï¼Œåº”è¯¥ä½¿ç”¨ç±»ã€‚

---

## æ€»ç»“

### æ¥å£æ€»ç»“

- å®šä¹‰è¡Œä¸ºå¥‘çº¦ï¼Œä¸æä¾›å®ç°
- ç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ï¼ˆæ”¯æŒå¤šé‡ç»§æ‰¿ï¼‰
- æ¥å£å¯ä»¥ç»§æ‰¿å…¶ä»–æ¥å£
- ä½¿ç”¨ `<override>` å®ç°æ¥å£æ–¹æ³•
- é€‚ç”¨äºå®šä¹‰å¤šæ€è¡Œä¸º

### ç»“æ„ä½“æ€»ç»“

- å€¼ç±»å‹ï¼Œç”¨äºç»„åˆç›¸å…³æ•°æ®
- ä¸æ”¯æŒæ–¹æ³•ã€ç»§æ‰¿ã€æ¥å£
- æ”¯æŒå¯æŒä¹…åŒ–ç‰¹æ€§
- é€šè¿‡åŸå‹è¯­æ³•å®ä¾‹åŒ–
- é€‚ç”¨äºè½»é‡çº§æ•°æ®å®¹å™¨

### è®¾è®¡å»ºè®®

| éœ€æ±‚ | æ¨èç±»å‹ |
|------|---------|
| çº¯æ•°æ®å®¹å™¨ | ç»“æ„ä½“ |
| éœ€è¦æ–¹æ³• | ç±» |
| éœ€è¦å¤šé‡ç»§æ‰¿ | ç±» + æ¥å£ |
| éœ€è¦å¤šæ€ | ç±» + æ¥å£ |
| éœ€è¦æŒä¹…åŒ–ç®€å•æ•°æ® | ç»“æ„ä½“ `<persistable>` |
| éœ€è¦æŒä¹…åŒ–å¤æ‚å¯¹è±¡ | ç±» `<persistable>` + `<final>` |

---

## é™„å½•ï¼šå®Œæ•´ä»£ç ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šäº¤é€šå·¥å…·ç³»ç»Ÿ

```verse
# å®šä¹‰æ¥å£
moveable := interface():
    MoveForward() : void
    Stop() : void

rideable := interface():
    Mount()<decides> : void
    Dismount()<decides> : void

lockable := interface():
    Lock() : void
    Unlock() : void

# å®šä¹‰ç»“æ„ä½“
vehicle_stats := struct:
    Speed : float = 10.0
    Capacity : int = 1

# å®šä¹‰ç±»
bicycle := class(moveable, rideable, lockable):
    Stats : vehicle_stats
    var IsLocked : logic = false
    var HasRider : logic = false
    
    MoveForward<override>() : void =
        if not IsLocked and HasRider:
            Print("è‡ªè¡Œè½¦ä»¥é€Ÿåº¦ {Stats.Speed} ç§»åŠ¨")
    
    Stop<override>() : void =
        Print("è‡ªè¡Œè½¦åœæ­¢")
    
    Mount<override>()<decides>: void =
        if not IsLocked:
            set HasRider = true
            Print("å·²ä¸Šè‡ªè¡Œè½¦")
    
    Dismount<override>()<decides>: void =
        set HasRider = false
        Print("å·²ä¸‹è‡ªè¡Œè½¦")
    
    Lock<override>() : void =
        set IsLocked = true
        Print("è‡ªè¡Œè½¦å·²é”å®š")
    
    Unlock<override>() : void =
        set IsLocked = false
        Print("è‡ªè¡Œè½¦å·²è§£é”")
```

### ç¤ºä¾‹ 2ï¼šç©å®¶æ•°æ®ç®¡ç†

```verse
# å®šä¹‰å¯æŒä¹…åŒ–ç»“æ„ä½“
coordinates := struct<persistable>:
    X : float = 0.0
    Y : float = 0.0
    Z : float = 0.0

player_inventory := struct<persistable>:
    Gold : int = 0
    Items : []string = array{}

player_data := struct<persistable>:
    Version : int = 1
    PlayerName : string
    Level : int = 1
    Experience : int = 0
    Position : coordinates = coordinates{X := 0.0, Y := 0.0, Z := 0.0}
    Inventory : player_inventory = player_inventory{}

# æ¨¡å—çº§åˆ«çš„æŒä¹…åŒ–å­˜å‚¨
var PlayerDataStore : [player]player_data = map{}

# ä¿å­˜å’ŒåŠ è½½å‡½æ•°
SavePlayer(Player : player, Data : player_data) : void =
    if set PlayerDataStore[Player] = Data:
        Print("ç©å®¶æ•°æ®å·²ä¿å­˜ï¼š{Data.PlayerName}")

LoadPlayer(Player : player) : ?player_data =
    PlayerDataStore[Player]
```

---

**æ–‡æ¡£ç‰ˆæœ¬**ï¼šv1.0  
**æœ€åå®¡æ ¸**ï¼š2026-01-04  
**ç»´æŠ¤è€…**ï¼šVibe Coding CN Team
