# verseHelpers èƒ½åŠ›è¾¹ç•Œæ–‡æ¡£

> **ç‰ˆæœ¬**: 2.0 | **æ›´æ–°æ—¥æœŸ**: 2026-01-06
>
> **ç›®æ ‡**: å¿«é€Ÿåˆ¤æ–­ Helper å±‚ä»»åŠ¡æ˜¯å¦å¯è¡Œï¼Œé¿å…æ— æ•ˆè°ƒç ”

---

## èƒ½åŠ›é€ŸæŸ¥çŸ©é˜µ

### èƒ½åšçš„äº‹ï¼ˆç»¿ç¯åŒºï¼‰

| ç±»åˆ« | å…·ä½“èƒ½åŠ› | é€‚ç”¨åœºæ™¯ |
|------|----------|----------|
| çº¯å‡½æ•°è®¡ç®— | ä¼¤å®³è®¡ç®—ã€æ²»ç–—è®¡ç®—ã€æ•°å­¦å…¬å¼ | æ‰€æœ‰éœ€è¦å¤æ‚è®¡ç®—çš„åœºæ™¯ |
| æ•°æ®éªŒè¯ | å‚æ•°èŒƒå›´æ£€æŸ¥ã€æ ¼å¼æ ¡éªŒ | è¾“å…¥éªŒè¯ã€é…ç½®æ ¡éªŒ |
| é€šç”¨å·¥å…· | æ•°å­¦ã€å‘é‡ã€æ•°ç»„ã€æ—¶é—´æ“ä½œ | é«˜é¢‘é€šç”¨æ“ä½œ |
| ç»“æœå°è£… | ä½¿ç”¨ struct è¿”å›å¤šä¸ªå€¼ | è®¡ç®—ç»“æœåŒ…å«å¤šä¸ªå­—æ®µ |
| ç±»å‹è½¬æ¢ | int/float, vector3/rotation è½¬æ¢ | æ•°æ®æ ¼å¼è½¬æ¢ |
| ç»„åˆ Wrapper è°ƒç”¨ | å°è£…å¤šä¸ª API è°ƒç”¨ä¸ºé«˜çº§æ“ä½œ | å¤æ‚çš„æ¸¸æˆå¯¹è±¡æ“ä½œ |
| ç®—æ³•å®ç° | æ’å€¼ã€è·ç¦»ã€ç¢°æ’æ£€æµ‹ç­‰ | é€šç”¨ç®—æ³•éœ€æ±‚ |

> **æ ¸å¿ƒå®šä½**: Helper å±‚æ˜¯æ— çŠ¶æ€çš„è®¡ç®—å’Œå·¥å…·å‡½æ•°åº“

### ä¸èƒ½åšçš„äº‹ï¼ˆçº¢ç¯åŒºï¼‰

| ç±»åˆ« | é™åˆ¶è¯´æ˜ | æ›¿ä»£æ–¹æ¡ˆ |
|------|----------|----------|
| ç›´æ¥è°ƒç”¨ UEFN API | åº”é€šè¿‡ Wrapper å±‚ | ä½¿ç”¨ verseWrappers æŠ€èƒ½ |
| æŒæœ‰çŠ¶æ€å˜é‡ | è¿åçº¯å‡½æ•°åŸåˆ™ | çŠ¶æ€ç®¡ç†åœ¨ Component å±‚ |
| ä¿®æ”¹å¤–éƒ¨çŠ¶æ€ | ä¼šå¯¼è‡´å‰¯ä½œç”¨ | è¿”å›æ–°å€¼ï¼Œç”±è°ƒç”¨æ–¹æ›´æ–°çŠ¶æ€ |
| å‘é€äº‹ä»¶ | ä¸åº”ä¸äº‹ä»¶ç³»ç»Ÿè€¦åˆ | è¿”å›ç»“æœï¼Œç”± Component å‘é€äº‹ä»¶ |
| ä¾èµ–è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ | å½±å“å¯æµ‹è¯•æ€§ | æ‰€æœ‰ä¾èµ–é€šè¿‡å‚æ•°ä¼ å…¥ |
| æ‰§è¡Œå¼‚æ­¥æ“ä½œ | Helper åº”è¯¥æ˜¯åŒæ­¥çš„ | å¼‚æ­¥é€»è¾‘åœ¨ Component å±‚ |
| ç›´æ¥æ“ä½œæ¸¸æˆå¯¹è±¡ | åº”å§”æ‰˜ç»™ Wrapper å±‚ | è°ƒç”¨ Wrapper å°è£…çš„ API |

### æœ‰æ¡ä»¶èƒ½åšçš„äº‹ï¼ˆé»„ç¯åŒºï¼‰

| ç±»åˆ« | æ¡ä»¶ | é…ç½®æ–¹å¼ |
|------|------|----------|
| è°ƒç”¨ Wrapper å±‚ | ç”¨äºç»„åˆé«˜çº§æ“ä½œ | åœ¨ Helper ä¸­è°ƒç”¨ Wrapper å‡½æ•° |
| å¤æ‚å…¬å¼è®¡ç®— | éœ€å……åˆ†æ³¨é‡Š | å…¬å¼æ¥æºã€å‚æ•°å«ä¹‰å¿…é¡»è¯´æ˜ |
| é€’å½’ç®—æ³• | éœ€è®¾ç½®ç»ˆæ­¢æ¡ä»¶ | é˜²æ­¢æ ˆæº¢å‡º |
| æµ®ç‚¹è¿ç®— | éœ€è€ƒè™‘ç²¾åº¦é—®é¢˜ | ä½¿ç”¨å®¹å·®æ¯”è¾ƒï¼Œä¸ç”¨ `==` |

---

## æŠ€æœ¯é™åˆ¶è¯¦è§£

### Verse è¯­è¨€é™åˆ¶

| é™åˆ¶é¡¹ | è¯´æ˜ | å½±å“èŒƒå›´ |
|--------|------|----------|
| æ— å…¨å±€å˜é‡ | module ä¸èƒ½æŒæœ‰ var | æ‰€æœ‰ Helper å¿…é¡»æ˜¯çº¯å‡½æ•° |
| æ— é™æ€å˜é‡ | æ— æ³•ç¼“å­˜è®¡ç®—ç»“æœ | é«˜é¢‘è®¡ç®—å¯èƒ½å½±å“æ€§èƒ½ |
| æœ‰é™çš„æ ‡å‡†åº“ | åŸºç¡€æ•°å­¦å‡½æ•°è¾ƒå°‘ | éœ€è‡ªå·±å®ç°å¸¸ç”¨å·¥å…· |
| float ç²¾åº¦æœ‰é™ | æµ®ç‚¹è¿ç®—æœ‰è¯¯å·® | ä½¿ç”¨å®¹å·®æ¯”è¾ƒ |

### API é™åˆ¶

| é™åˆ¶é¡¹ | è¯´æ˜ | å½±å“èŒƒå›´ |
|--------|------|----------|
| éƒ¨åˆ† API ä¸å¯ç”¨ | æŸäº›åŠŸèƒ½ UEFN ä¸æä¾› | éœ€è¦è®°å½•åˆ° @api-gaps.md |
| API ç­¾åå¯èƒ½å˜åŒ– | UEFN ç‰ˆæœ¬æ›´æ–° | éœ€è¦ç»´æŠ¤ digest æ–‡ä»¶ |
| æ€§èƒ½ç‰¹æ€§æœªçŸ¥ | ç¼ºå°‘æ€§èƒ½æ–‡æ¡£ | éœ€å®æµ‹éªŒè¯ |

### æ¶æ„çº¦æŸï¼ˆCHANGE-005ï¼‰

| é™åˆ¶é¡¹ | è¯´æ˜ | å½±å“èŒƒå›´ |
|--------|------|----------|
| Helper ä¸ç›´æ¥è°ƒç”¨ API | é€šè¿‡ Wrapper å±‚ | æ‰€æœ‰ UEFN API è®¿é—® |
| è®¡ç®—ç»“æœéœ€å°è£… | ä½¿ç”¨ struct è¿”å› | å¤šè¿”å›å€¼çš„å‡½æ•° |
| çº¯å‡½æ•°è¦æ±‚ | æ— å‰¯ä½œç”¨ï¼Œå¯æµ‹è¯• | æ‰€æœ‰ Calculator å’Œ Utils |

---

## ä¾èµ–å…³ç³»

### å‰ç½®æŠ€èƒ½

- **å¿…éœ€**: æ— ï¼ˆverseHelpers æ˜¯åº•å±‚æŠ€èƒ½ï¼‰
- **æ¨è**: [verseWrappers](../verseWrappers/SKILL.md) - äº†è§£ API å°è£…

### ä¾èµ–èµ„æº

- **API æ‘˜è¦**: `shared/api-digests/` - ä¸‰å¤§ API digest æ–‡ä»¶
- **ä»£ç åº“**: `shared/code-library/Helpers/` - Helper å®ç°
- **ä»£ç åº“**: `shared/code-library/Wrappers/` - Wrapper å®ç°
- **API ç¼ºå¤±è®°å½•**: `shared/project-templates/@api-gaps.md`

---

## åœºæ™¯å†³ç­–æ ‘

```text
éœ€è¦è®¡ç®—ï¼Ÿ
â”œâ”€â”€ ç®€å•ç®—æœ¯ï¼ˆ+ - * /ï¼‰â†’ âœ… ç›´æ¥åœ¨ Component å†…è®¡ç®—
â”œâ”€â”€ å¤æ‚å…¬å¼ï¼ˆä¼¤å®³ã€æ²»ç–—ï¼‰â†’ âœ… åˆ›å»º Calculator Helper
â”œâ”€â”€ é€šç”¨ç®—æ³•ï¼ˆè·ç¦»ã€æ’å€¼ï¼‰â†’ âœ… ä½¿ç”¨æˆ–åˆ›å»º Utils Helper
â””â”€â”€ æ¶‰åŠ UEFN API â†’ âŒ ä½¿ç”¨ Wrapper å±‚

éœ€è¦æ•°æ®éªŒè¯ï¼Ÿ
â”œâ”€â”€ ç®€å•èŒƒå›´æ£€æŸ¥ â†’ âœ… Validator Helper
â”œâ”€â”€ å¤æ‚è§„åˆ™éªŒè¯ â†’ âœ… ç»„åˆå¤šä¸ª Validator
â””â”€â”€ éœ€è¦è°ƒç”¨ API éªŒè¯ â†’ ğŸŸ¡ é€šè¿‡ Wrapper å±‚

éœ€è¦æ“ä½œæ¸¸æˆå¯¹è±¡ï¼Ÿ
â”œâ”€â”€ è¯»å–å±æ€§ â†’ âŒ ä½¿ç”¨ Wrapper.GetXxx()
â”œâ”€â”€ ä¿®æ”¹å±æ€§ â†’ âŒ ä½¿ç”¨ Wrapper.SetXxx()
â””â”€â”€ å¤æ‚æ“ä½œ â†’ âœ… åœ¨ Helper ä¸­ç»„åˆå¤šä¸ª Wrapper è°ƒç”¨

API ç¼ºå¤±ï¼Ÿ
â”œâ”€â”€ ç¡®è®¤æ— æ›¿ä»£ API â†’ âœ… è®°å½•åˆ° @api-gaps.md
â”œâ”€â”€ å¯ç”¨å…¶ä»– API ç»•è¿‡ â†’ âœ… åœ¨ Helper ä¸­å°è£…ç»•è¿‡é€»è¾‘
â””â”€â”€ å®Œå…¨æ— æ³•å®ç° â†’ âŒ ä¸ŠæŠ¥ç»™æ¶æ„å±‚
```

---

## å¸¸è§é—®é¢˜é€ŸæŸ¥

### Q: Helper å¯ä»¥è°ƒç”¨ Wrapper å—ï¼Ÿ

**A**: âœ… å¯ä»¥ï¼Œç”¨äºç»„åˆé«˜çº§æ“ä½œï¼š

```verse
# Helper å±‚ç»„åˆ Calculator + Wrapper
CombatHelper := module:
    ApplyDamageWithKillCheck(
        Character:fort_character,
        RawDamage:float,
        IsInvincible:logic
    ):combat_result =
        # 1. è°ƒç”¨ Calculatorï¼ˆHelper å†…éƒ¨ï¼‰
        CalcResult := HealthCalculator.CalculateDamageResult(
            CharacterWrapper.GetHealth(Character),  # è°ƒç”¨ Wrapper
            CharacterWrapper.GetMaxHealth(Character),
            RawDamage,
            IsInvincible
        )
        
        # 2. è°ƒç”¨ Wrapper åº”ç”¨ä¼¤å®³
        if not CalcResult.WasBlocked:
            CharacterWrapper.ApplyDamage(Character, CalcResult.ActualChange)
        
        # 3. è¿”å›ç»„åˆç»“æœ
        return combat_result{
            DamageDealt := CalcResult.ActualChange,
            WasKill := CalcResult.WasLethal
        }
```

### Q: Helper å’Œ Wrapper çš„åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

**A**: èŒè´£åˆ†å·¥ï¼š

| å±‚çº§ | èŒè´£ | ç¤ºä¾‹ |
|------|------|------|
| **Wrapper (L1.5)** | å°è£… digest APIï¼Œå¤„ç†è¾¹ç•Œ | `CharacterWrapper.ApplyDamage()` |
| **Helper (L2)** | çº¯è®¡ç®— + ç»„åˆ Wrapper è°ƒç”¨ | `HealthCalculator.Calculate()` + è°ƒç”¨ Wrapper |

### Q: ä¸ºä»€ä¹ˆ Helper ä¸èƒ½æŒæœ‰çŠ¶æ€ï¼Ÿ

**A**: ä¿è¯å¯æµ‹è¯•æ€§å’Œå¯å¤ç”¨æ€§ï¼š

```verse
# âŒ é”™è¯¯ï¼šæŒæœ‰çŠ¶æ€
MathHelper := module:
    var LastResult:int = 0  # ä¸å…è®¸ï¼
    
    Add(A:int, B:int):int =
        set LastResult = A + B
        return LastResult

# âœ… æ­£ç¡®ï¼šçº¯å‡½æ•°
MathHelper := module:
    Add(A:int, B:int):int =
        return A + B  # æ— å‰¯ä½œç”¨
```

**å¥½å¤„**:
- å¯å¹¶è¡Œè°ƒç”¨ï¼ˆæ— ç«æ€æ¡ä»¶ï¼‰
- æ˜“äºå•å…ƒæµ‹è¯•
- ç»“æœå¯é¢„æµ‹

### Q: å¦‚ä½•å¤„ç†éœ€è¦å¤šä¸ªè¿”å›å€¼çš„æƒ…å†µï¼Ÿ

**A**: ä½¿ç”¨ struct å°è£…ç»“æœï¼š

```verse
# å®šä¹‰ç»“æœç»“æ„
health_change_result := struct:
    NewHealth:int = 0
    ActualChange:int = 0
    WasLethal:logic = false
    WasBlocked:logic = false

# Helper è¿”å› struct
HealthCalculator := module:
    CalculateDamageResult(...):health_change_result =
        # ... è®¡ç®—
        return health_change_result{
            NewHealth := NewHP,
            ActualChange := ActualDmg,
            WasLethal := NewHP <= 0
        }
```

### Q: Helper ä¸­å‘ç° API ç¼ºå¤±æ€ä¹ˆåŠï¼Ÿ

**A**: éµå¾ª API ç¼ºå¤±æŠ¥å‘Šæµç¨‹ï¼š

1. **ç¡®è®¤çœŸçš„ç¼ºå¤±**ï¼šæœç´¢ä¸‰å¤§ digest æ–‡ä»¶
2. **è®°å½•åˆ°** `@api-gaps.md`
3. **æä¾›æ›¿ä»£æ–¹æ¡ˆ**ï¼š
   - å¯ç”¨å…¶ä»– API ç»•è¿‡ï¼Ÿâ†’ åœ¨ Helper ä¸­å°è£…ç»•è¿‡é€»è¾‘
   - å®Œå…¨æ— æ³•å®ç°ï¼Ÿâ†’ è¿”å›å ä½æ¥å£ï¼Œä¸ŠæŠ¥æ¶æ„å±‚

---

## ç›¸å…³èµ„æº

- [ä¸»æŠ€èƒ½æ–‡æ¡£](SKILL.md)
- [å‰ç½®æ£€æŸ¥æ¸…å•](PREFLIGHT-CHECKLIST.md)
- [å¤±è´¥æ¡ˆä¾‹åº“](FAILURE-CASES.md)
- [å†³ç­–è®°å½•](DECISION-LOG.md)
- [verseWrappers/SKILL.md](../verseWrappers/SKILL.md) - Wrapper å±‚å®šä¹‰
- [Helpers/@index.md](../shared/code-library/Helpers/@index.md) - Helper æ¨¡å—ç´¢å¼•
