# 核心理念

## Skill 的本质

> **Skill = 上下文揭露节点**

Skill 不是简单的"功能模块"或"操作指南"，而是一个**上下文揭露节点**。它的核心职责是：

**以最高效的方法，揭示目标上下文。**

## SceneGraph 节点树模型

Skill 系统采用树形结构组织，类似于 SceneGraph：

```
                    ┌─────────────┐
                    │  Root Skill │
                    └──────┬──────┘
                           │
           ┌───────────────┼───────────────┐
           │               │               │
    ┌──────▼──────┐ ┌──────▼──────┐ ┌──────▼──────┐
    │  Child A    │ │  Child B    │ │  Child C    │
    └──────┬──────┘ └─────────────┘ └──────┬──────┘
           │                               │
    ┌──────▼──────┐                 ┌──────▼──────┐
    │ Grandchild  │                 │ Grandchild  │
    └─────────────┘                 └─────────────┘
```

### 节点特性

1. **每个节点都是功能节点**
   - 无论是"选择子 Skill"还是"执行具体任务"，都是有意义的能力
   - 父节点负责概括和编排子节点

2. **父节点是对子节点的概括**
   - 父节点理解所有子节点的能力边界
   - 父节点知道何时该委托给哪个子节点

3. **无层级深度限制**
   - 通过多入口解决深层访问问题
   - 任何节点都可以被直接访问

## 上下文揭露的本质

### 什么是上下文揭露

上下文揭露是指：在正确的时机，以最小的成本，获取必要的信息。

包含三个要素：
- **何时读**：触发条件明确
- **读什么**：入口路径清晰
- **怎么用**：使用方式简明

### 揭露而非隐藏

传统的封装思想强调"隐藏实现细节"。但对于 Agent 来说，问题不是"看不到"，而是"找不到"。

Skill 的设计应该：
- ✅ 清晰声明自己的能力边界
- ✅ 明确指向相关资源的入口
- ✅ 让 Agent 快速判断"是否需要我"
- ❌ 不应隐藏有用的上下文
- ❌ 不应强制 Agent 猜测内容

### 入口即服务

每个 Skill 的 SKILL.md 就是一个入口服务，它应该回答：

1. **我是谁**：name + description
2. **何时需要我**：When to Use
3. **我能提供什么**：Context Entry - 作为提供者
4. **我依赖什么**：Context Entry - 作为消费者
5. **如何选择我的子能力**：Children（仅分支节点）

## 设计原则

### 原则一：单一入口

每个 Skill 目录必须有且仅有一个入口文件：`SKILL.md`

- 不使用 `Index.md`、`README.md` 等作为入口
- 所有元信息都通过 SKILL.md 暴露

### 原则二：语义化组织

Skill 内部的子目录应使用语义化命名：

```
mySkill/
├── SKILL.md           # 入口
├── checklists/        # 检查清单
├── templates/         # 模板文件
└── references/        # 参考资料
```

### 原则三：外部资源入口

资源可以存放在 Skill 外部，但 Skill 必须提供访问这些资源的入口和方法。

### 原则四：自描述能力

每个 Skill 应该能让 Agent 在不读取全部内容的情况下，判断是否需要深入阅读。

这通过以下方式实现：
- Frontmatter 中的 name + description
- When to Use 章节的触发条件
- Context Entry 章节的能力声明

## 与其他概念的边界

| 概念 | 定位 | 与 Skill 的区别 |
|------|------|----------------|
| **Document** | 方法论、原则、知识 | 提供背景知识，不提供操作指引 |
| **Prompt** | 交互模板 | 定义对话格式，不定义能力边界 |
| **Memory-bank** | 项目上下文 | 存储运行时状态，Skill 是静态能力 |

---

**相关文档**：
- [节点结构](节点结构.md)
- [章节模板](章节模板.md)
- [上下文揭露](上下文揭露.md)
