# ==========================================
# 全局模块注册表 (Global Module Registry)
# ==========================================
# 说明: 跨所有期刊（Skills）的模块注册中心
# 位置: Core/skills/_REGISTRY.yaml
# 目的: 提供统一的模块检索、依赖管理、版本控制
# ==========================================

# 注册表元数据
registry:
  version: "1.0.0"
  last_updated: "2026-01-04"
  total_journals: 3
  total_modules: 0

# 期刊列表（所有 Skills）
journals:
  # Verse 开发相关期刊
  - name: "verseEventFlow"
    path: "programming/verseDev/verseEventFlow"
    category: "programming"
    status: "active"
    maturity: "beta"
    description: "事件流层 - Scene Event 设计、事件传播策略、生命周期编排"
    modules_count: 2
    version: "1.0.0"
    last_updated: "2026-01-04"
  
  - name: "verseComponent"
    path: "programming/verseDev/verseComponent"
    category: "programming"
    status: "active"
    maturity: "alpha"
    description: "组件层 - 自定义组件编写、Entity 类封装、功能模块"
    modules_count: 0
    version: "1.0.0"
    last_updated: "2026-01-04"
  
  - name: "verseHelpers"
    path: "programming/verseDev/verseHelpers"
    category: "programming"
    status: "active"
    maturity: "alpha"
    description: "操作层/Helper 层 - API 封装、原子操作、高级函数"
    modules_count: 0
    version: "1.0.0"
    last_updated: "2026-01-04"
  
  # 更多期刊可以在此添加
  # - name: "verseArchitectureSelector"
  #   path: "programming/verseDev/verseArchitectureSelector"
  #   ...

# 模块快速索引（跨期刊）
modules:
  # verseEventFlow 模块
  - name: "EventBus"
    journal: "verseEventFlow"
    path: "programming/verseDev/verseEventFlow/modules/EventBus"
    version: "1.0.0"
    status: "stable"
    category: "core"
    description: "全局事件总线，提供发布/订阅机制"
    tags: ["event", "communication", "core"]
    dependencies:
      verse_modules:
        - "Fortnite.Devices"
      internal_modules: []
      external_modules: []
  
  - name: "LifecycleManager"
    journal: "verseEventFlow"
    path: "programming/verseDev/verseEventFlow/modules/LifecycleManager"
    version: "1.0.0"
    status: "stable"
    category: "core"
    description: "生命周期管理器，确保组件初始化顺序"
    tags: ["lifecycle", "initialization", "core"]
    dependencies:
      verse_modules:
        - "Fortnite.Devices"
      internal_modules: []
      external_modules: []
  
  # verseComponent 模块（占位）
  # - name: "BaseComponent"
  #   journal: "verseComponent"
  #   path: "programming/verseDev/verseComponent/modules/BaseComponent"
  #   ...
  
  # verseHelpers 模块（占位）
  # - name: "MathHelpers"
  #   journal: "verseHelpers"
  #   path: "programming/verseDev/verseHelpers/modules/MathHelpers"
  #   ...

# 跨期刊依赖关系
cross_journal_dependencies:
  # 描述期刊之间的依赖关系
  - from_journal: "verseComponent"
    to_journal: "verseEventFlow"
    reason: "组件需要使用事件系统"
    modules:
      - from_module: "BaseComponent"
        to_module: "EventBus"
  
  # - from_journal: "verseEventFlow"
  #   to_journal: "verseHelpers"
  #   reason: "事件处理需要辅助函数"
  #   modules:
  #     - from_module: "EventQueue"
  #       to_module: "TimeHelpers"

# 按分类索引
by_category:
  core:
    description: "核心模块，提供基础功能"
    modules:
      - "EventBus"
      - "LifecycleManager"
  
  advanced:
    description: "高级模块，提供增强功能"
    modules: []
  
  experimental:
    description: "实验模块，新功能试验"
    modules: []
  
  utility:
    description: "工具模块，提供辅助功能"
    modules: []

# 按标签索引
by_tags:
  event:
    modules:
      - "EventBus"
      - "LifecycleManager"
  
  communication:
    modules:
      - "EventBus"
  
  lifecycle:
    modules:
      - "LifecycleManager"
  
  initialization:
    modules:
      - "LifecycleManager"
  
  core:
    modules:
      - "EventBus"
      - "LifecycleManager"

# 按状态索引
by_status:
  stable:
    modules:
      - journal: "verseEventFlow"
        name: "EventBus"
      - journal: "verseEventFlow"
        name: "LifecycleManager"
  
  beta:
    modules: []
  
  experimental:
    modules: []
  
  deprecated:
    modules: []

# 推荐组合（跨期刊）
recommended_combinations:
  - name: "完整事件驱动架构"
    description: "适合事件驱动型游戏的完整解决方案"
    modules:
      - journal: "verseEventFlow"
        module: "EventBus"
      - journal: "verseEventFlow"
        module: "LifecycleManager"
      # - journal: "verseComponent"
      #   module: "BaseComponent"
      # - journal: "verseHelpers"
      #   module: "TimeHelpers"
    use_cases:
      - "多玩家互动游戏"
      - "实时响应游戏"
  
  # - name: "组件系统基础"
  #   description: "组件化开发的基础模块"
  #   modules:
  #     - journal: "verseComponent"
  #       module: "BaseComponent"
  #     - journal: "verseEventFlow"
  #       module: "EventBus"
  #   use_cases:
  #     - "组件化游戏开发"

# 兼容性信息
compatibility:
  # 全局兼容性要求
  uefn_version: ">=31.00"
  verse_version: ">=1.0.0"
  
  # 已知不兼容的模块组合
  conflicts:
    # - module1:
    #     journal: "journalA"
    #     name: "ModuleX"
    #   module2:
    #     journal: "journalB"
    #     name: "ModuleY"
    #   reason: "API 命名冲突"
    #   workaround: "使用命名空间隔离"

# 统计信息
statistics:
  journals:
    total: 3
    by_status:
      active: 3
      experimental: 0
      deprecated: 0
      archived: 0
    by_maturity:
      prototype: 0
      alpha: 2
      beta: 1
      stable: 0
  
  modules:
    total: 2
    by_status:
      stable: 2
      beta: 0
      experimental: 0
      deprecated: 0
    by_category:
      core: 2
      advanced: 0
      experimental: 0
      utility: 0

# 快速搜索索引
search_index:
  keywords:
    event:
      - journal: "verseEventFlow"
        modules: ["EventBus", "LifecycleManager"]
    
    lifecycle:
      - journal: "verseEventFlow"
        modules: ["LifecycleManager"]
    
    initialization:
      - journal: "verseEventFlow"
        modules: ["LifecycleManager"]
    
    communication:
      - journal: "verseEventFlow"
        modules: ["EventBus"]
    
    # component:
    #   - journal: "verseComponent"
    #     modules: ["BaseComponent", "HealthComponent"]
    
    # math:
    #   - journal: "verseHelpers"
    #     modules: ["MathHelpers"]

# 维护信息
maintenance:
  maintainers:
    - name: "Registry Maintainer"
      role: "registry-admin"
      responsibilities:
        - "维护全局注册表"
        - "验证模块信息"
        - "更新依赖关系"
  
  update_policy:
    frequency: "每次模块更新后"
    validation: "自动验证 + 人工审核"
    notification: "通过 GitHub Issues 通知"

# 元数据
meta:
  template_version: "1.0.0"
  created: "2026-01-04"
  last_verified: "2026-01-04"
  schema_version: "1.0.0"
  
  # 自动化工具
  automation:
    # 是否启用自动同步
    auto_sync: false
    
    # 验证脚本
    validation_script: "scripts/validate_registry.py"
    
    # 生成工具
    generator_script: "scripts/generate_registry.py"
