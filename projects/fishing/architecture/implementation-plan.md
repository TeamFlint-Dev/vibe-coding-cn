# 📋 Fishing - 实施计划

> **版本**：v1.0  
> **阶段**：实施规划  
> **前置依赖**：所有设计文档  
> **生成者**：game-implementation-planner

---

## 一、项目概览

### 1.1 项目信息

| 属性 | 值 |
|------|-----|
| 项目名称 | Fishing |
| 平台 | UEFN (Fortnite Creative) |
| 类型 | 放置养成 |
| MVP 范围 | 钓鱼系统 + 展示系统 |
| 预计周期 | 2-3 周 |

### 1.2 里程碑总览

```
M0 原型验证     M1 MVP 完成      M2 打磨优化     M3 发布
    │               │                │              │
    ▼               ▼                ▼              ▼
┌───────┐      ┌───────┐        ┌───────┐      ┌───────┐
│ 3-5天 │      │ 1周   │        │ 1周   │      │ 2-3天 │
│       │      │       │        │       │      │       │
│ 技术  │─────▶│ 功能  │───────▶│ 体验  │─────▶│ 上线  │
│ 验证  │      │ 完整  │        │ 完善  │      │       │
└───────┘      └───────┘        └───────┘      └───────┘
```

---

## 二、里程碑详情

### M0：原型验证 (3-5 天)

**目标**：验证核心技术可行性

| 任务 | 验证点 | 完成标准 |
|------|--------|----------|
| 钓鱼状态机 | Verse 状态管理 | 能完成一次钓鱼流程 |
| 钓点交互 | 玩家交互检测 | 靠近显示提示，按键触发 |
| 掉落系统 | 随机掉落逻辑 | 能产出不同稀有度的鱼 |
| 展示位 | Prop 动态显示 | 能放置/取回鱼模型 |
| 数据存储 | persistable | 退出后数据保留 |

**产出**：

- [ ] 可运行的原型场景
- [ ] 技术风险评估报告

---

### M1：MVP 完成 (1 周)

**目标**：实现完整核心循环

| 系统 | 功能 | 优先级 |
|------|------|--------|
| 钓鱼系统 | 完整钓鱼流程 + 5 种鱼 | P0 |
| 战利品系统 | 背包 + 图鉴 | P0 |
| 基地系统 | 3 展示位 + 放置逻辑 | P0 |
| 收益系统 | 每秒累积 + 领取 | P0 |
| 升级系统 | 鱼竿 10 级 | P0 |
| UI | 基础 HUD + 菜单 | P0 |

**产出**：

- [ ] 完整可玩版本
- [ ] 内部测试通过

---

### M2：打磨优化 (1 周)

**目标**：提升游戏体验

| 类型 | 内容 |
|------|------|
| 视觉 | 稀有度光效、动画优化 |
| 音效 | 完整音效包 |
| 反馈 | 首发奖励动画、升级特效 |
| 平衡 | 基于测试数据调整数值 |
| Bug | 修复已知问题 |

**产出**：

- [ ] 体验完善版本
- [ ] 外部测试反馈

---

### M3：发布 (2-3 天)

**目标**：正式上线

| 任务 | 内容 |
|------|------|
| 最终测试 | 全流程验证 |
| 地图设置 | 标题、描述、标签 |
| 发布审核 | 提交 Fortnite Creative |
| 上线监控 | 关注早期反馈 |

---

## 三、任务拆解

### 3.1 M0 任务列表

| ID | 任务 | 依赖 | 预估 | 负责 |
|----|------|------|------|------|
| M0-1 | 创建 UEFN 项目 | - | 0.5d | - |
| M0-2 | 搭建基础场景 | M0-1 | 0.5d | - |
| M0-3 | 实现钓鱼状态机 | M0-1 | 1d | - |
| M0-4 | 实现钓点交互 | M0-2 | 0.5d | - |
| M0-5 | 实现掉落表 | M0-3 | 0.5d | - |
| M0-6 | 实现展示位 | M0-2 | 1d | - |
| M0-7 | 实现数据持久化 | M0-3 | 0.5d | - |
| M0-8 | 原型集成测试 | M0-4,5,6,7 | 0.5d | - |

### 3.2 M1 任务列表

#### 3.2.1 钓鱼系统

| ID | 任务 | 依赖 | 预估 |
|----|------|------|------|
| M1-F1 | 完善状态机（含超时/失败） | M0-3 | 0.5d |
| M1-F2 | 添加投竿动画 | M1-F1 | 0.5d |
| M1-F3 | 添加咬钩反馈 | M1-F1 | 0.5d |
| M1-F4 | 实现 5 种鱼数据 | M0-5 | 0.5d |
| M1-F5 | 添加钓鱼音效 | M1-F2,F3 | 0.5d |

#### 3.2.2 战利品系统

| ID | 任务 | 依赖 | 预估 |
|----|------|------|------|
| M1-T1 | 实现背包数据结构 | M0-7 | 0.5d |
| M1-T2 | 实现背包 UI | M1-T1 | 1d |
| M1-T3 | 实现图鉴数据 | M1-T1 | 0.5d |
| M1-T4 | 实现图鉴 UI | M1-T3 | 0.5d |
| M1-T5 | 实现首发奖励 | M1-T3 | 0.5d |

#### 3.2.3 基地系统

| ID | 任务 | 依赖 | 预估 |
|----|------|------|------|
| M1-B1 | 完善 3 展示位 | M0-6 | 0.5d |
| M1-B2 | 实现放置 UI | M1-B1 | 0.5d |
| M1-B3 | 实现替换逻辑 | M1-B1 | 0.5d |
| M1-B4 | 添加展示位视觉 | M1-B1 | 0.5d |

#### 3.2.4 收益系统

| ID | 任务 | 依赖 | 预估 |
|----|------|------|------|
| M1-I1 | 实现收益计算 | M1-B1 | 0.5d |
| M1-I2 | 实现累积定时器 | M1-I1 | 0.5d |
| M1-I3 | 实现领取逻辑 | M1-I2 | 0.5d |
| M1-I4 | 实现收益 UI | M1-I3 | 0.5d |
| M1-I5 | 实现离线收益 | M1-I2 | 0.5d |

#### 3.2.5 升级系统

| ID | 任务 | 依赖 | 预估 |
|----|------|------|------|
| M1-U1 | 实现升级数据 | M0-7 | 0.5d |
| M1-U2 | 实现升级商店 UI | M1-U1 | 0.5d |
| M1-U3 | 实现稀有度加成 | M1-U1 | 0.5d |
| M1-U4 | 添加升级反馈 | M1-U2 | 0.5d |

---

## 四、代码架构

### 4.1 目录结构

```
TrophyFishing/
├── Creative/
│   └── TrophyFishingIsland/
│       ├── Devices/
│       │   ├── fishing_spot.verse
│       │   ├── display_slot.verse
│       │   ├── income_display.verse
│       │   └── upgrade_shop.verse
│       ├── Managers/
│       │   ├── game_manager.verse
│       │   ├── player_data.verse
│       │   └── fish_database.verse
│       ├── Systems/
│       │   ├── fishing_system.verse
│       │   ├── trophy_system.verse
│       │   ├── base_system.verse
│       │   ├── income_system.verse
│       │   └── upgrade_system.verse
│       ├── UI/
│       │   ├── hud_controller.verse
│       │   ├── inventory_ui.verse
│       │   └── shop_ui.verse
│       └── Common/
│           ├── types.verse
│           ├── constants.verse
│           ├── events.verse
│           └── utils.verse
└── Assets/
    ├── Models/
    │   ├── Fish/
    │   └── Props/
    ├── Audio/
    │   └── SFX/
    └── VFX/
```

### 4.2 模块依赖图

```
            ┌─────────────────┐
            │  game_manager   │
            └─────────────────┘
                    │
        ┌───────────┼───────────┐
        ▼           ▼           ▼
┌──────────────┐ ┌──────────────┐ ┌──────────────┐
│ fishing_spot │ │ display_slot │ │ upgrade_shop │
└──────────────┘ └──────────────┘ └──────────────┘
        │           │           │
        ▼           ▼           ▼
┌──────────────────────────────────────────────┐
│              systems layer                    │
│  fishing ──▶ trophy ──▶ base ──▶ income      │
│                                    │          │
│                               upgrade ◀───────┘
└──────────────────────────────────────────────┘
                    │
                    ▼
            ┌─────────────────┐
            │  player_data    │
            │  (persistable)  │
            └─────────────────┘
```

---

## 五、验收标准

### 5.1 功能验收

| 功能 | 验收标准 |
|------|----------|
| 钓鱼 | 完成 10 次钓鱼无报错 |
| 收集 | 背包正确显示所有捕获的鱼 |
| 展示 | 3 个位置都能正确放置/取回 |
| 收益 | 累积显示正确，领取到账 |
| 升级 | 能从 Lv.1 升到 Lv.10 |
| 存档 | 退出重进数据完整 |

### 5.2 性能验收

| 指标 | 标准 |
|------|------|
| 帧率 | ≥ 30 FPS |
| 加载时间 | < 5 秒 |
| 响应延迟 | < 200ms |

### 5.3 体验验收

| 指标 | 标准 |
|------|------|
| 首次钓鱼 | 5 分钟内完成 |
| 理解核心循环 | 15 分钟内 |
| 首次升级 | 10 分钟内 |

---

## 六、风险管理

### 6.1 风险登记

| 风险 | 概率 | 影响 | 应对 |
|------|------|------|------|
| Verse 功能不支持 | 中 | 高 | M0 阶段验证，备选方案 |
| 进度延期 | 中 | 中 | 每日站会，及时调整 |
| 美术资源不足 | 低 | 中 | 使用 Fortnite 内置资源 |
| 平衡性问题 | 高 | 低 | M2 阶段专项调优 |

### 6.2 关键决策点

| 时间点 | 决策 |
|--------|------|
| M0 结束 | 技术可行性确认，是否继续 |
| M1 中期 | 功能范围是否调整 |
| M2 结束 | 是否进入发布流程 |

---

## 七、资源需求

### 7.1 人力资源

| 角色 | 职责 | 投入 |
|------|------|------|
| 设计师 | 关卡搭建、美术配置 | 50% |
| 程序员 | Verse 开发 | 100% |
| 测试员 | 功能测试、平衡测试 | 30% |

### 7.2 资产清单

| 类型 | 资产 | 来源 |
|------|------|------|
| 3D 模型 | 5 种鱼 | Fortnite 资产库 / 自制 |
| 3D 模型 | 展示台 | Fortnite 资产库 |
| 音效 | 钓鱼音效包 | Fortnite 资产库 |
| UI | 图标素材 | 自制简易版 |

---

## 八、每日开发流程

### 8.1 日常工作流

```
09:00 - 09:15  站会：昨日完成 / 今日计划 / 阻塞项
09:15 - 12:00  开发时段 1
12:00 - 13:00  午休
13:00 - 17:00  开发时段 2
17:00 - 17:30  代码提交 + 日志更新
17:30 - 18:00  内部测试 / Bug 修复
```

### 8.2 代码规范

```verse
# 命名规范
class_name := class         # 类名小写下划线
FunctionName() : void       # 函数名大驼峰
var LocalVariable : int     # 变量大驼峰
CONSTANT_VALUE : int = 100  # 常量全大写

# 注释规范
# 单行注释用于简短说明
# 
# 多行注释用于复杂逻辑
# 包含参数说明和返回值
```

---

## 九、测试计划

### 9.1 测试类型

| 类型 | 时机 | 内容 |
|------|------|------|
| 单元测试 | 每日 | 函数级验证 |
| 集成测试 | 模块完成时 | 系统间交互 |
| 冒烟测试 | 每日 | 核心流程可用 |
| 回归测试 | M1/M2 结束 | 全功能验证 |
| 压力测试 | M2 | 长时间运行 |

### 9.2 测试用例（示例）

| ID | 用例 | 步骤 | 预期结果 |
|----|------|------|----------|
| TC-001 | 正常钓鱼 | 交互钓点→等待→收杆 | 获得鱼，加入背包 |
| TC-002 | 超时未收杆 | 交互钓点→等待→不收杆 | 显示失败，无收获 |
| TC-003 | 放置鱼 | 打开背包→选鱼→放置 | 鱼出现在展示位 |
| TC-004 | 升级 | 攒够金币→打开商店→升级 | 等级+1，金币扣除 |

---

## 十、发布检查清单

### 10.1 功能完整性

- [ ] 钓鱼系统完整可用
- [ ] 战利品系统完整可用
- [ ] 基地系统完整可用
- [ ] 收益系统完整可用
- [ ] 升级系统完整可用
- [ ] 存档系统正常工作

### 10.2 质量标准

- [ ] 无崩溃 Bug
- [ ] 无数据丢失
- [ ] 无严重平衡问题
- [ ] 新手引导清晰
- [ ] UI 无遮挡/错位

### 10.3 发布资料

- [ ] 地图标题（≤25 字符）
- [ ] 地图描述（≤140 字符）
- [ ] 标签配置
- [ ] 缩略图
- [ ] 支持语言设置

---

## 十一、下一步行动

**实施计划完成** ✅

**设计阶段全部完成！**

### 产出文档清单

| 文档 | 状态 |
|------|------|
| `@concept.md` | ✅ |
| `@systems-breakdown.md` | ✅ |
| `@mechanics/fishing.md` | ✅ |
| `@mechanics/trophy.md` | ✅ |
| `@mechanics/base.md` | ✅ |
| `@mechanics/income.md` | ✅ |
| `@mechanics/upgrade.md` | ✅ |
| `@economy.md` | ✅ |
| `@tech-stack.md` | ✅ |
| `@implementation-plan.md` | ✅ |

### 立即行动

1. **创建 UEFN 项目**
2. **开始 M0-1：搭建基础场景**
3. **按任务列表推进开发**

---

*文档生成时间：2025-12-26*
