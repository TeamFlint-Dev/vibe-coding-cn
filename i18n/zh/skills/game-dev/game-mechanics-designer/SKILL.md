---
name: game-mechanics-designer
description: "游戏机制设计：为单个系统设计详细的规则和行为。当用户说'设计机制'、'系统规则'、'详细玩法'时激活。输入 @systems-breakdown.md，输出 @mechanics/[系统名].md。"
---

# game-mechanics-designer Skill

为游戏中的单个系统设计详细的机制、规则和行为，确保系统内部逻辑完整且可实现。

## When to Use This Skill

触发此 Skill 当：
- 系统设计完成，需要设计具体机制
- 需要定义某个系统的详细规则
- 需要设计交互和反馈
- orchestrator 调度到机制设计阶段

## Not For / Boundaries

此 Skill 不负责：
- 系统划分和识别（需要 @systems-breakdown.md 作为输入）
- 跨系统的数值平衡（交给 economy-designer）
- 游戏整体概念（属于 concept-designer）
- 技术实现方案（属于 tech-stack-planner）

必需输入：
- `@systems-breakdown.md` - 系统设计文档

单次调用专注一个系统，多系统需多次调用。

## Quick Reference

### 机制设计流程

```
1. 选择目标系统（从 @systems-breakdown.md）
2. 定义系统状态和状态转换
3. 设计玩家操作和系统响应
4. 定义规则和约束
5. 设计反馈和表现
6. 输出 @mechanics/[系统名].md
```

### 机制设计框架

```
机制 = 状态 + 操作 + 规则 + 反馈
```

| 组件 | 定义 | 问题 |
|------|------|------|
| **状态** | 系统数据和状态 | 有哪些状态？如何转换？ |
| **操作** | 玩家可执行动作 | 玩家能做什么？ |
| **规则** | 约束和判定逻辑 | 什么时候能做？结果是什么？ |
| **反馈** | 系统响应和表现 | 如何告知玩家结果？ |

### 状态机模板

```
        ┌──────────────┐
        │   空闲状态   │
        └──────┬───────┘
               │ 触发条件
               ↓
        ┌──────────────┐
        │   进行状态   │ ← 循环条件
        └──────┬───────┘
               │ 完成条件
               ↓
        ┌──────────────┐
        │   结果状态   │
        └──────────────┘
```

### 操作定义模板

```markdown
#### 操作：[操作名称]

**前置条件**：
- [条件1]
- [条件2]

**执行过程**：
1. [步骤1]
2. [步骤2]
3. [步骤3]

**结果**：
- 成功：[结果描述]
- 失败：[结果描述]

**反馈**：
- 视觉：[效果]
- 音效：[效果]
- UI：[效果]
```

### @mechanics/[系统名].md 输出模板

```markdown
# [系统名称] 机制设计

> **所属项目**：[项目名]
> **基于系统**：@systems-breakdown.md
> **创建日期**：[日期]

## 系统概述

**职责**：[一句话描述]

**核心体验**：[玩家期望感受]

## 状态定义

### 系统状态

| 状态 | 描述 | 转入条件 | 转出条件 |
|------|------|----------|----------|
| [状态1] | [描述] | [条件] | [条件] |
| [状态2] | [描述] | [条件] | [条件] |

### 状态机图

```
[ASCII 或 Mermaid 状态机图]
```

## 实体定义

### [实体1]

| 属性 | 类型 | 描述 | 范围 |
|------|------|------|------|
| [属性1] | [类型] | [描述] | [范围] |

## 操作清单

### 操作1：[名称]

**触发方式**：[按钮/自动/事件]

**前置条件**：
- [条件1]

**执行逻辑**：
```
1. 检查前置条件
2. 执行操作
3. 更新状态
4. 触发反馈
5. 发送事件
```

**结果**：
- 成功：[描述]
- 失败：[描述]

**反馈**：
- [反馈描述]

### 操作2：[名称]

...

## 规则清单

### 规则1：[名称]

**触发条件**：[条件]

**判定逻辑**：
```
IF [条件] THEN
    [结果]
ELSE
    [其他结果]
END
```

### 规则2：[名称]

...

## 与其他系统的交互

### 发送事件

| 事件 | 目标系统 | 携带数据 | 触发条件 |
|------|----------|----------|----------|
| [事件1] | [系统] | [数据] | [条件] |

### 接收事件

| 事件 | 来源系统 | 处理逻辑 |
|------|----------|----------|
| [事件1] | [系统] | [逻辑] |

## 边界情况

| 情况 | 处理方式 |
|------|----------|
| [边界1] | [处理] |
| [边界2] | [处理] |

## 待确认项

- [ ] [待确认1]
- [ ] [待确认2]
```

### 常见机制模式

**资源收集**：
- 操作：采集动作
- 规则：冷却时间、成功率、稀有度
- 反馈：采集动画、物品飞入、数量显示

**物品放置**：
- 操作：选择物品、选择位置、确认放置
- 规则：槽位限制、物品适配、位置冲突
- 反馈：预览、确认效果、收益显示

**货币购买**：
- 操作：浏览商品、确认购买
- 规则：价格、库存、购买限制
- 反馈：扣款动画、物品获得、库存更新

**升级解锁**：
- 操作：选择目标、支付代价、确认升级
- 规则：等级要求、资源消耗、解锁内容
- 反馈：进度条、解锁动画、新内容提示

## Examples

### Example 1: 钓鱼系统机制

**输入**: @systems-breakdown.md 中的收集系统（钓鱼）

**机制设计**:

状态：空闲 → 抛竿 → 等待 → 咬钩 → 拉杆 → 结果

操作定义：
- 抛竿：点击按钮，进入等待
- 拉杆：咬钩时点击，判定成功/失败

规则：
- 等待时间：2-8 秒随机
- 咬钩窗口：1.5 秒
- 成功率：基于鱼稀有度和装备

**输出**: @mechanics/fishing.md

### Example 2: 展示系统机制

**输入**: @systems-breakdown.md 中的展示系统

**机制设计**:

状态：槽位（空/占用/锁定）

操作定义：
- 放置物品：从背包选择，放入空槽
- 移除物品：点击占用槽，物品返回背包
- 解锁槽位：消耗货币，锁定→空

规则：
- 物品类型匹配槽位类型
- 不同稀有度产生不同收益

**输出**: @mechanics/display.md

### Example 3: 进度系统机制

**输入**: @systems-breakdown.md 中的进度系统

**机制设计**:

状态：里程碑（未达成/已达成/已领取）

操作定义：
- 自动检查：事件触发时检查条件
- 领取奖励：点击已达成里程碑

规则：
- 里程碑条件：收集数量、货币数量、展示数量
- 奖励内容：货币、物品、解锁

**输出**: @mechanics/progression.md

## References

- [Index.md](../Index.md) - Skill 生态系统索引
- [game-system-designer](../game-system-designer/SKILL.md) - 上一阶段：系统设计
- [game-economy-designer](../game-economy-designer/SKILL.md) - 协作：数值平衡

## Maintenance

- Sources: 游戏机制设计方法论
- Last updated: 2025-12-25
- Known limits: 复杂机制可能需要原型验证
