# 岛屿养成游戏 - 游戏设计文档 (GDD)

> **文档类型**：游戏设计文档 (Game Design Document)  
> **目标平台**：UEFN (Fortnite Creative)  
> **版本**：MVP v0.1  
> **最后更新**：2025-12-25

---

## 目录

1. [项目概要](#项目概要)
2. [核心玩法](#核心玩法)
3. [世界结构](#世界结构)
4. [系统设计](#系统设计)
5. [物品设计](#物品设计)
6. [经济平衡](#经济平衡)
7. [技术架构](#技术架构)
8. [开发计划](#开发计划)

---

## 项目概要

### 游戏定位

| 属性 | 描述 |
|------|------|
| **游戏类型** | 养成/模拟经营 |
| **核心体验** | 收集、展示、挂机收益 |
| **目标玩家** | 喜欢休闲养成、收集类游戏的玩家 |
| **游戏时长** | 单次 15-30 分钟，长期养成 |
| **平台** | Fortnite Creative (UEFN) |

### 核心愿景

> 打造一个让玩家享受「收集 → 展示 → 成长」循环的养成游戏。
> 玩家在自己的基地中，通过精心摆放收集来的物品，获得持续的挂机收益，
> 并不断解锁新内容、探索新岛屿、收集更珍贵的物品。

### 核心循环（一句话）

**收集物品 → 展示赚钱 → 升级解锁 → 收集更好的物品**

---

## 核心玩法

### 核心循环详解

```
┌─────────────────────────────────────────────────────────────┐
│                       核心游戏循环                          │
│                                                             │
│   ┌───────────┐     ┌───────────┐     ┌───────────┐        │
│   │  收集物品  │────→│  展示物品  │────→│  赚取收益  │        │
│   │           │     │ (有限槽位) │     │ (持续/挂机)│        │
│   └───────────┘     └───────────┘     └───────────┘        │
│        ↑                                    │               │
│        │                                    ↓               │
│   ┌───────────┐     ┌───────────┐     ┌───────────┐        │
│   │ 更高级物品 │←────│ 解锁内容  │←────│ 消费货币  │        │
│   │ /新收集方式│     │(槽位/岛屿)│     │  (升级)   │        │
│   └───────────┘     └───────────┘     └───────────┘        │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 玩法要素

| 要素 | 描述 | 玩家动机 |
|------|------|----------|
| **收集** | 通过钓鱼、挖矿、探索获取物品 | 探索欲、收集欲 |
| **展示** | 在展示台上摆放物品 | 表达欲、成就感 |
| **收益** | 展示物品产生持续收入 | 成长感、数值反馈 |
| **升级** | 解锁更多槽位和功能 | 进度感、目标驱动 |
| **探索** | 前往不同主题岛 | 新鲜感、好奇心 |

---

## 世界结构

### 整体布局

```
                    ┌─────────────────┐
                    │    🌊 海洋      │
                    │   (钓鱼区域)    │
                    └────────┬────────┘
                             │
    ┌────────────────────────┼────────────────────────┐
    │                   🏝️ 主岛                        │
    │  ┌──────────────────────────────────────────┐  │
    │  │              🏠 玩家基地                   │  │
    │  │  ┌─────────────────────────────────────┐ │  │
    │  │  │         展示台区域 (核心)            │ │  │
    │  │  │  [槽1] [槽2] [槽3] ... [槽12]       │ │  │
    │  │  └─────────────────────────────────────┘ │  │
    │  │  [背包] [商店] [升级]                    │  │
    │  └──────────────────────────────────────────┘  │
    │                                                │
    │  🚪 传送门广场                                  │
    │  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐         │
    │  │森林岛│ │雪山岛│ │火山岛│ │ ...  │         │
    │  │ ✅   │ │ 🔒   │ │ 🔒   │ │ 🔒   │         │
    │  └──────┘ └──────┘ └──────┘ └──────┘         │
    └────────────────────────────────────────────────┘
                             │
         ┌───────────────────┼───────────────────┐
         │                   │                   │
         ↓                   ↓                   ↓
    ┌─────────┐        ┌─────────┐        ┌─────────┐
    │ 🌲森林岛 │        │ 🏔️雪山岛 │        │ 🌋火山岛 │
    │ (挖矿)  │        │ (待开发) │        │ (待开发) │
    └─────────┘        └─────────┘        └─────────┘
```

### 主岛功能区

| 区域 | 功能 | MVP 优先级 |
|------|------|------------|
| **玩家基地** | 展示台、背包、个人数据 | ⭐⭐⭐ 必须 |
| **钓鱼区域** | 主要收集方式 | ⭐⭐⭐ 必须 |
| **传送门广场** | 前往主题岛 | ⭐⭐ 重要 |
| **商店** | 购买升级、特殊物品 | ⭐⭐ 重要 |
| **公共区域** | 社交、展示 | ⭐ 可选 |

### 主题岛设计

#### 森林岛（MVP 首发）

| 属性 | 描述 |
|------|------|
| **主题** | 神秘森林、自然探索 |
| **主要玩法** | 挖矿、随机物品刷新 |
| **特色物品** | 矿石、宝石、森林生物 |
| **解锁条件** | 初始解锁 |

**玩法机制**：
- 挖矿点：固定位置，有冷却时间
- 随机刷新：林间空地随机出现可收集物品
- 探索发现：隐藏区域的稀有物品

---

## 系统设计

### 1. 展示系统

展示系统是游戏的核心收益来源。

#### 展示槽位

```
┌─────────────────────────────────────────────────────┐
│                   展示台布局                         │
│                                                     │
│   ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ │
│   │  1  │ │  2  │ │  3  │ │  4  │ │  5  │ │  6  │ │
│   │ ✅  │ │ ✅  │ │ ✅  │ │ 🔒  │ │ 🔒  │ │ 🔒  │ │
│   └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ │
│                                                     │
│   ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ │
│   │  7  │ │  8  │ │  9  │ │ 10  │ │ 11  │ │ 12  │ │
│   │ 🔒  │ │ 🔒  │ │ 🔒  │ │ 🔒  │ │ 🔒  │ │ 🔒  │ │
│   └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ └─────┘ │
│                                                     │
│   ✅ = 已解锁    🔒 = 待解锁                        │
└─────────────────────────────────────────────────────┘
```

#### 槽位规则

| 规则 | 描述 |
|------|------|
| 初始槽位 | 3 个 |
| 最大槽位 | 12 个（可扩展） |
| 每槽容量 | 1 个物品 |
| 收益方式 | 每秒自动产出，基于物品收益率 |
| 更换规则 | 随时可更换，旧物品返回背包 |

#### 收益计算

```
单槽收益 = 物品基础收益 × 稀有度倍率 × 槽位加成
总收益   = Σ(所有槽位收益) × 全局加成
```

### 2. 收集系统

#### 钓鱼系统

```
玩家操作          系统处理              结果
   │                 │                   │
   ▼                 ▼                   ▼
[开始钓鱼] ──→ [等待时间 3s] ──→ [概率计算] ──→ [获得物品]
   │                 │                   │
   ▼                 ▼                   ▼
[冷却 1s]      [可中断/取消]      [稀有度判定]
```

**钓鱼参数**：

| 参数 | 默认值 | 说明 |
|------|--------|------|
| 等待时间 | 3 秒 | 抛竿到收竿的时间 |
| 冷却时间 | 1 秒 | 两次钓鱼间隔 |
| 成功率 | 100% | 基础成功率 |

#### 挖矿系统（森林岛）

```
[接近矿点] ──→ [开始挖掘 2s] ──→ [获得矿石] ──→ [矿点冷却 60s]
```

#### 随机刷新系统

- 固定刷新点，随机时间出现物品
- 先到先得机制
- 物品存在时间：30 秒

### 3. 背包系统

| 属性 | 描述 |
|------|------|
| 初始容量 | 20 格 |
| 最大容量 | 100 格（可升级） |
| 堆叠规则 | 同类物品堆叠，最大 99 |
| 排序功能 | 按稀有度/类型/时间排序 |

### 4. 存档系统

**存储数据**：

```
PlayerData
├── Currency（货币）
├── UnlockedSlots（已解锁槽位数）
├── DisplaySlots[]（展示中的物品）
├── Inventory[]（背包物品）
├── UnlockedIslands[]（已解锁岛屿）
├── Upgrades{}（升级进度）
└── Statistics{}（统计数据）
```

**存档触发**：
- 物品变动时自动保存
- 退出游戏时保存
- 定时保存（每 60 秒）

---

## 物品设计

### 物品稀有度

| 稀有度 | 颜色 | 收益倍率 | 获取概率 | 设计定位 |
|--------|------|----------|----------|----------|
| ⬜ 普通 | 灰色 | 1x | 60% | 基础填充 |
| 🟩 精良 | 绿色 | 2x | 25% | 常见进阶 |
| 🟦 稀有 | 蓝色 | 5x | 10% | 小确幸 |
| 🟪 史诗 | 紫色 | 15x | 4% | 惊喜时刻 |
| 🟧 传说 | 橙色 | 50x | 1% | 终极追求 |

### MVP 物品列表

#### 钓鱼物品（10种）

| 名称 | 稀有度 | 基础收益 | 描述 |
|------|--------|----------|------|
| 小鲫鱼 | ⬜ 普通 | 1 | 最常见的鱼 |
| 小龙虾 | ⬜ 普通 | 1 | 藏在石头缝里 |
| 鲈鱼 | 🟩 精良 | 2 | 肉质鲜美 |
| 螃蟹 | 🟩 精良 | 2 | 横行霸道 |
| 金枪鱼 | 🟦 稀有 | 5 | 游泳健将 |
| 章鱼 | 🟦 稀有 | 5 | 聪明的软体动物 |
| 剑鱼 | 🟪 史诗 | 15 | 海洋刺客 |
| 蓝鲸 | 🟪 史诗 | 15 | 温柔的巨人 |
| 美人鱼 | 🟧 传说 | 50 | 传说中的生物 |
| 海王三叉戟 | 🟧 传说 | 50 | 神话宝物 |

#### 森林岛物品（5种，MVP）

| 名称 | 稀有度 | 基础收益 | 获取方式 |
|------|--------|----------|----------|
| 铜矿石 | ⬜ 普通 | 1 | 挖矿 |
| 银矿石 | 🟩 精良 | 2 | 挖矿 |
| 金矿石 | 🟦 稀有 | 5 | 挖矿/随机 |
| 钻石 | 🟪 史诗 | 15 | 稀有矿点 |
| 森林精灵 | 🟧 传说 | 50 | 随机刷新 |

---

## 经济平衡

### 收益曲线

**目标**：让玩家感受到稳定成长，同时有追求更高效率的动力。

#### 单槽每秒收益（基于物品稀有度）

| 稀有度 | 基础收益/秒 | 满配收益/秒 |
|--------|------------|------------|
| ⬜ 普通 | 1 | 1.5 |
| 🟩 精良 | 2 | 3 |
| 🟦 稀有 | 5 | 7.5 |
| 🟪 史诗 | 15 | 22.5 |
| 🟧 传说 | 50 | 75 |

#### 理想收入进度（每小时）

| 阶段 | 预计配置 | 每小时收入 | 累计时长 |
|------|----------|-----------|----------|
| 初始 | 3普通槽 | 10,800 | 0h |
| 早期 | 4槽+1精良 | 18,000 | 2h |
| 中期 | 6槽+混合 | 54,000 | 8h |
| 后期 | 10槽+稀有 | 180,000 | 20h |
| 终局 | 12槽+史诗 | 500,000+ | 50h+ |

### 槽位解锁成本

| 槽位 | 解锁成本 | 累计投入 | 回本时间（预估） |
|------|----------|----------|-----------------|
| 4 | 500 | 500 | 30 分钟 |
| 5 | 1,500 | 2,000 | 1 小时 |
| 6 | 4,000 | 6,000 | 2 小时 |
| 7 | 10,000 | 16,000 | 3 小时 |
| 8 | 25,000 | 41,000 | 4 小时 |
| 9 | 60,000 | 101,000 | 5 小时 |
| 10 | 150,000 | 251,000 | 6 小时 |
| 11 | 400,000 | 651,000 | 8 小时 |
| 12 | 1,000,000 | 1,651,000 | 12 小时 |

### 岛屿解锁成本

| 岛屿 | 解锁成本 | 解锁条件 |
|------|----------|----------|
| 森林岛 | 免费 | 初始解锁 |
| 雪山岛 | 50,000 | 累计收入达到 100,000 |
| 火山岛 | 200,000 | 累计收入达到 500,000 |
| 神秘岛 | 1,000,000 | 收集 50 种物品 |

---

## 技术架构

### SceneGraph 架构

详见 [uefn-island-game SKILL.md](../SKILL.md) 中的系统架构图。

**核心原则**：
- ✅ 优先使用 SceneGraph 实体-组件架构
- ⚠️ 仅在必要时使用 CreativeDevice
- ✅ 组件间通过 Scene Events 通信

### 实体层级结构

```verse
simulation_entity (根)
│
├── game_manager_entity
│   ├── economy_component           # 货币管理
│   ├── save_manager_component      # 存档管理
│   └── island_manager_component    # 岛屿管理
│
├── player_manager_entity
│   └── (管理所有玩家基地实体)
│
├── player_base_entity (每玩家)
│   ├── display_system_component    # 展示系统
│   ├── income_generator_component  # 收入生成
│   ├── inventory_component         # 背包系统
│   └── display_slot_entity[12]     # 展示槽位
│       └── slot_component
│
├── main_island_entity
│   ├── fishing_zone_entity
│   │   └── fishing_component
│   └── portal_hub_entity
│       └── portal_entity[]
│
└── theme_island_entity[]
    └── forest_island_entity
        ├── mining_zone_component
        └── random_spawn_component
```

### 核心事件流

```
[玩家钓到鱼]
    ↓
item_collected_event
    ↓ SendUp
[inventory_component] → 添加到背包
    ↓
[玩家放置到展示台]
    ↓
display_slot_updated_event
    ↓ SendDirect
[income_generator_component] → 重新计算收益
    ↓
income_tick_event (每秒)
    ↓ SendUp
[economy_component] → 更新货币
    ↓
currency_changed_event
    ↓ SendDown
[UI 更新]
```

---

## 开发计划

### MVP 里程碑

**目标**：2 周内完成可玩原型

#### Week 1: 核心框架

| 任务 | 优先级 | 预估时间 |
|------|--------|----------|
| 玩家基地实体结构 | P0 | 1 天 |
| 展示槽位系统 | P0 | 1 天 |
| 基础收益计算 | P0 | 0.5 天 |
| 钓鱼系统 | P0 | 1 天 |
| 背包系统 | P0 | 1 天 |
| 基础 UI | P0 | 1.5 天 |

#### Week 2: 完善和测试

| 任务 | 优先级 | 预估时间 |
|------|--------|----------|
| 存档/读档系统 | P0 | 1 天 |
| 槽位解锁逻辑 | P1 | 0.5 天 |
| 物品稀有度系统 | P1 | 0.5 天 |
| 数值调试 | P1 | 1 天 |
| Bug 修复 | P0 | 2 天 |

### 验收标准（MVP）

- [ ] 玩家进入游戏后能看到自己的基地
- [ ] 能够进行钓鱼并获得物品
- [ ] 能够将物品放置到展示台
- [ ] 展示台能够产生持续收益
- [ ] 收益能够累积并显示
- [ ] 退出后重新进入，数据能够保留
- [ ] 能够使用货币解锁新槽位

---

## 附录

### A. 术语表

| 术语 | 定义 |
|------|------|
| 展示台 | 放置收集物品以产生收益的核心设施 |
| 槽位 | 展示台上的单个展示位置 |
| 挂机收益 | 无需玩家操作即可持续获得的收入 |
| 主题岛 | 提供特定收集玩法的副本区域 |

### B. 参考游戏

- **Roblox Pet Simulator** - 收集养成循环
- **Idle Miner Tycoon** - 挂机收益设计
- **Animal Crossing** - 收集展示体验

### C. 待决策事项

- [ ] 是否支持多人同场景？
- [ ] 物品是否可交易？
- [ ] 是否有排行榜系统？
- [ ] 季节性活动如何设计？

---

*文档结束*
