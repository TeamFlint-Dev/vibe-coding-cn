# 架构评审检查清单

> 框架设计层完成后的评审检查项

---

## 使用说明

在框架设计层 (`verse-framework-designer`) 输出架构蓝图后，使用此清单进行评审。

- ✅ 通过
- ⚠️ 需改进
- ❌ 不通过

---

## 1. 单一职责验证

### Entity 检查

| 检查项 | 状态 | 备注 |
|--------|------|------|
| 每个 Entity 只代表一个游戏概念 | | |
| Entity 不直接包含业务逻辑 | | |
| Entity 命名清晰反映其代表的对象 | | |

### Component 检查

| 检查项 | 状态 | 备注 |
|--------|------|------|
| 每个 Component 只负责一个功能领域 | | |
| Component 不依赖其他 Component 的内部状态 | | |
| Component 可独立测试 | | |
| Component 命名采用 `xxx_component` 格式 | | |

### 问题记录

```
[如有单一职责违反，记录在此]
```

---

## 2. 组件耦合度检查

### 依赖方向

| 检查项 | 状态 | 备注 |
|--------|------|------|
| 无循环依赖 | | |
| 高层不依赖低层实现细节 | | |
| 依赖通过事件解耦 | | |

### 耦合类型

| 检查项 | 状态 | 备注 |
|--------|------|------|
| 无直接方法调用跨组件（除 Helper） | | |
| 状态共享通过 Entity 或事件 | | |
| 无全局状态依赖 | | |

### 问题记录

```
[如有耦合问题，记录在此]
```

---

## 3. 事件流完整性

### 事件定义

| 检查项 | 状态 | 备注 |
|--------|------|------|
| 所有状态变化都有对应事件 | | |
| 事件命名采用 `xxx_event` 格式 | | |
| 事件携带必要数据 | | |
| 无冗余事件（相似事件合并） | | |

### 事件传递

| 检查项 | 状态 | 备注 |
|--------|------|------|
| SendUp/SendDown 方向正确 | | |
| SendToScene 仅用于跨树通信 | | |
| 事件有明确的发送者和接收者 | | |

### 问题记录

```
[如有事件流问题，记录在此]
```

---

## 4. 扩展点预留

### 已识别的扩展点

| 扩展点 | 类型 | 预留方式 | 状态 |
|--------|------|----------|------|
| 新武器类型 | Component | 继承基类 | |
| 新敌人行为 | Component | 行为组合 | |
| 新关卡规则 | Entity | 配置化 | |

### 扩展性检查

| 检查项 | 状态 | 备注 |
|--------|------|------|
| 核心逻辑可配置 | | |
| 新功能可通过添加组件实现 | | |
| 无硬编码的业务规则 | | |

### 问题记录

```
[如有扩展性问题，记录在此]
```

---

## 5. 命名一致性

### 命名规则检查

| 类型 | 命名规则 | 状态 | 示例 |
|------|----------|------|------|
| Entity | `xxx_entity` | | `player_entity` |
| Component | `xxx_component` | | `health_component` |
| Event | `xxx_event` | | `damage_taken_event` |
| Helper | 动词开头或模块名 | | `MathUtils`, `CalculateDamage` |
| 变量 | 驼峰命名 | | `currentHealth` |
| 常量 | 全大写下划线 | | `MAX_HEALTH` |

### 一致性检查

| 检查项 | 状态 | 备注 |
|--------|------|------|
| 同类事物命名模式一致 | | |
| 无缩写或缩写有统一规则 | | |
| 英文单词拼写正确 | | |

### 问题记录

```
[如有命名问题，记录在此]
```

---

## 6. 生命周期覆盖

### SceneGraph 生命周期钩子

| 钩子 | 使用场景 | 已使用 | 状态 |
|------|----------|--------|------|
| OnRegister | 组件首次注册时 | | |
| OnBeginSimulation | 模拟开始时初始化 | | |
| OnEndSimulation | 模拟结束时清理 | | |
| OnAddedToScene | 加入场景时 | | |
| OnRemovedFromScene | 移出场景时 | | |

### 检查项

| 检查项 | 状态 | 备注 |
|--------|------|------|
| 初始化逻辑放在正确的钩子中 | | |
| 资源清理有对应的结束钩子 | | |
| 无遗漏的生命周期处理 | | |

### 问题记录

```
[如有生命周期问题，记录在此]
```

---

## 7. 层级深度检查

### Entity 树深度

| 检查项 | 状态 | 备注 |
|--------|------|------|
| Entity 嵌套深度 ≤ 4 层 | | |
| 深层嵌套有明确理由 | | |

### 当前深度统计

```
Scene (L0)
└── GameManager (L1)
    └── PlayerEntity (L2)
        └── WeaponEntity (L3)
            └── ProjectileEntity (L4) ⚠️ 最大深度
```

### 问题记录

```
[如有深度问题，记录在此]
```

---

## 评审总结

### 统计

| 类别 | ✅ 通过 | ⚠️ 需改进 | ❌ 不通过 |
|------|---------|-----------|-----------|
| 单一职责 | | | |
| 耦合度 | | | |
| 事件流 | | | |
| 扩展点 | | | |
| 命名 | | | |
| 生命周期 | | | |
| 层级深度 | | | |

### 总体评价

- [ ] 可以进入实现阶段
- [ ] 需要修改后再评审
- [ ] 需要重新设计

### 待解决问题

```
1. [问题描述]
2. [问题描述]
```

### 评审人

- 评审时间: [timestamp]
- 评审模式: 框架设计层自检 / 用户评审

---

*最后更新: [timestamp]*
