# Phase 4: 交付 (Deliver)

> **职责**：把成果交出去，更新资产状态

---

## 交付的意义

做完了不等于交付了。

交付 = 成果放到正确的位置 + 别人能找到 + 状态更新了 + Commits + **推送到 PR**。

---

## 交付步骤（必须按顺序完成）

### 4.1 确认产出物已创建

**在提交前，先确认文件真的存在：**

| 产出类型 | 路径 | 如何确认 |
|----------|------|----------|
| 案例报告 | `skills/workUnits/workflowCaseStudy/reports/` | 列出目录，找到你的文件 |
| Skill 更新 | 对应的 Skill 目录 | 读取文件，确认修改已保存 |
| 猜想更新 | `hypothesis/` 或 `OVERVIEW.md` | 读取文件，确认内容已更新 |
| Journal | `journals/workUnits/workflowCaseStudy/` | 读取文件，确认完整 |
| OVERVIEW.md | `skills/workUnits/workflowCaseStudy/OVERVIEW.md` | 读取文件，确认资产清单已更新 |

还有所有与今日任务相关的产物！！

**如果文件不存在或内容不对，回到 Phase 3 补完。**

---

### 4.2 检查 OVERVIEW.md 更新

**必须检查**：`skills/workUnits/workflowCaseStudy/OVERVIEW.md`

读取这个文件，确认：
- 新增的案例报告已加到资产清单
- 消化的素材已更新进度
- 承诺的订单已更新状态
- 发现的新素材来源已添加

**如果没更新，现在更新。不要跳过这一步。**

---

### 4.3 提交到 PR

**关键步骤：必须把文件推送到 PR 分支。**

你有两个选择：

#### 选项 A：有现有 PR（Phase 1 找到的）

使用 `push_to_pull_request_branch` 工具：
- 这会把你的修改推送到**现有 PR 的分支**
- PR 会自动更新
- 不会产生冲突

#### 选项 B：没有现有 PR

使用 `create_pull_request` 工具：
- 标题前缀：`[workflow-study]`
- 标签：`gh-aw-research`
- 描述：简要说明本次工作内容

**⚠️ 重要**：
- 不要用 `git` 命令，用工具
- 确认工具调用成功返回了 PR 链接
- 如果失败，检查错误信息，修正后重试

---

### 4.4 在 PR 上添加评论

**使用 `add_comment` 工具，总结本次工作：**

评论内容应包含：
- 本次做了什么任务
- 主要产出是什么（列出文件）
- 有什么发现或学到了什么
- （如果是订单交付）@用户 让他们知道

---

## 交付完成检查（强制执行）

**在说"交付完成"之前，必须确认每一项：**

| 检查项 | 如何确认 | 状态 |
|--------|----------|------|
| 产出物文件已创建？ | 读取文件确认内容 | ☐ |
| OVERVIEW.md 已更新？ | 读取文件确认资产清单 | ☐ |
| Journal 已完成？ | 读取文件确认完整 | ☐ |
| 文件已推送到 PR？ | 工具返回成功，有 PR 链接 | ☐ |
| 评论已添加？ | 工具返回成功 | ☐ |

**如果有任何一项打不上勾，不要继续。回去完成它。**

---

## 最终输出

**你必须输出：**

```
✅ 交付完成

PR 链接：[具体的 PR URL]
Commits编号: 具体的编号

**没有 PR 链接 和 Commit = 交付失败。**

---

## 收尾

如果是订单交付：
- 确认用户能看到你的产出
- 如果准备了多个方案，说明每个方案的特点

如果是资产积累：
- 想一下这个资产未来可能用在哪里

**交付完成。**
