# Phase 4: 交付

> 做完 ≠ 交付。没有 PR = 工作丢失。

---

## 交付三步

### 1. 确认文件存在

读取你创建的文件，确认内容正确。不存在就回 Phase 3 创建。

### 2. 推送并创建 PR

```bash
# 使用 create_pull_request 工具
title: "[workflow-study] 描述主题"
body: "## 产出\n- file1.md\n- file2.md"
```

### 3. 验证 PR 创建成功

| 返回格式 | 状态 |
|----------|------|
| `/pull/123` | ✅ 成功 |
| `/pull/new/branch` | ❌ **失败！这只是表单页面** |

**如果返回 `/pull/new/...`**：PR 未创建，必须重新调用工具。

---

## 检查清单

在输出"交付完成"之前，逐项确认：

| # | 检查项 | 验证方法 |
|---|--------|----------|
| 1 | 产出文件存在 | 用 `read` 工具读取，能看到内容 |
| 2 | 推送工具已调用 | 确认执行了 `create_pull_request` |
| 3 | PR 编号是数字 | 返回 `/pull/123`，不是 `/pull/new/...` |
| 4 | 评论已添加 | `add_comment` 调用成功 |

### 常见失败模式

| 你以为的 | 实际上 |
|----------|--------|
| 给了 `/pull/new/...` 链接 | PR 没创建，只是表单页面 |
| "我会推送" | 没调用工具，工作丢失 |
| 工具报错后继续 | PR 创建失败，用户看不到 |

---

## 最终输出

```
✅ 交付完成
PR: https://github.com/.../pull/123
文件: path/to/report.md
```

**没有 PR 链接 = 交付失败 = 工作丢失**
**`/pull/new/...` 不是 PR，不算交付成功！**
