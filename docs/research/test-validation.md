# æµ‹è¯•ä»»åŠ¡ - éªŒè¯ Research Planner åŠŸèƒ½

> **è°ƒç ”æ—¥æœŸ**: 2026-01-04
> **çŠ¶æ€**: âœ… å®Œæˆ

## ç»“è®ºæ‘˜è¦

| èƒ½åŠ›/ç‰¹æ€§ | çŠ¶æ€ | è¯´æ˜ |
|-----------|------|------|
| åˆ›å»ºè°ƒç ”ä»»åŠ¡ Issue | âœ… æ”¯æŒ | é€šè¿‡ `create-issue` safe-output è‡ªåŠ¨åˆ›å»ºæ ‡å‡†åŒ–è°ƒç ”ä»»åŠ¡ |
| åˆ†é…ç»™ Copilot Agent | âœ… æ”¯æŒ | é€šè¿‡ `assign-to-agent` safe-output è‡ªåŠ¨åˆ†é…ç»™ Copilot æ‰§è¡Œ |
| è‡ªå®šä¹‰è°ƒç ”ä¸»é¢˜ | âœ… æ”¯æŒ | workflow_dispatch è¾“å…¥å‚æ•° `topic` |
| è‡ªå®šä¹‰è¾“å‡ºè·¯å¾„ | âœ… æ”¯æŒ | workflow_dispatch è¾“å…¥å‚æ•° `output_path` |
| æ ‡å‡†åŒ– Issue æ¨¡æ¿ | âœ… æ”¯æŒ | åŒ…å«è°ƒç ”ç›®æ ‡ã€è¾“å‡ºè¦æ±‚ã€éªŒæ”¶æ ‡å‡†çš„ç»“æ„åŒ–æ¨¡æ¿ |
| è‡ªåŠ¨æ·»åŠ æ ‡ç­¾ | âœ… æ”¯æŒ | è‡ªåŠ¨æ·»åŠ  `research-task` å’Œ `copilot-task` æ ‡ç­¾ |
| Issue æ ‡é¢˜å‰ç¼€ | âœ… æ”¯æŒ | è‡ªåŠ¨æ·»åŠ  `[Research]` å‰ç¼€ |
| å·¥ä½œæµå¯è¿½æº¯æ€§ | âœ… æ”¯æŒ | Issue body åŒ…å«è§¦å‘å·¥ä½œæµçš„é“¾æ¥å’Œæ¥æºä¿¡æ¯ |
| æƒé™æ§åˆ¶ | âš ï¸ æœ‰æ¡ä»¶ | éœ€è¦ `contents: read` å’Œ `issues: read` æƒé™ |
| è¶…æ—¶ä¿æŠ¤ | âœ… æ”¯æŒ | é…ç½® 10 åˆ†é’Ÿè¶…æ—¶é™åˆ¶ |
| Safe Outputs é™åˆ¶ | âœ… æ”¯æŒ | `create-issue` æœ€å¤š 1 ä¸ªï¼Œ`assign-to-agent` æ— é™åˆ¶ |
| Copilot å¼•æ“ | âœ… æ”¯æŒ | ä½¿ç”¨ GitHub Copilot ä½œä¸º AI å¼•æ“ |

## è¯¦ç»†å†…å®¹

### 1. å·¥ä½œæµæ¶æ„

Research Planner æ˜¯ä¸€ä¸ªåŸºäº GitHub Agentic Workflows çš„è‡ªåŠ¨åŒ–è°ƒç ”ä»»åŠ¡åˆ›å»ºç³»ç»Ÿï¼Œä¸»è¦åŒ…å«ä»¥ä¸‹ç»„ä»¶ï¼š

#### 1.1 å·¥ä½œæµæ–‡ä»¶

- **æºæ–‡ä»¶**: `.github/workflows/research-planner.md`
- **ç¼–è¯‘å**: `.github/workflows/research-planner.lock.yml`
- **ç¼–è¯‘å‘½ä»¤**: `gh aw compile research-planner`

#### 1.2 è§¦å‘æ–¹å¼

```yaml
on:
  workflow_dispatch:
    inputs:
      topic:
        description: 'è°ƒç ”ä¸»é¢˜'
        required: true
        type: string
      output_path:
        description: 'è¾“å‡ºæ–‡ä»¶è·¯å¾„ (å¦‚ docs/research/xxx.md)'
        required: true
        type: string
```

æ‰‹åŠ¨è§¦å‘å‘½ä»¤ï¼š

```bash
gh aw run research-planner \
  -f topic="<è°ƒç ”ä¸»é¢˜>" \
  -f output_path="docs/research/<æ–‡ä»¶å>.md"
```

### 2. Safe Outputs é…ç½®

#### 2.1 create-issue

**èƒ½åŠ›**ï¼šåˆ›å»º GitHub Issue ä½œä¸ºè°ƒç ”ä»»åŠ¡

**é…ç½®**ï¼š

```yaml
safe-outputs:
  create-issue:
    max: 1
    labels: [research-task, copilot-task]
    title-prefix: "[Research] "
    assignees: copilot
```

**é™åˆ¶**ï¼š

- æœ€å¤šåˆ›å»º 1 ä¸ª Issue
- è‡ªåŠ¨æ·»åŠ æ ‡ç­¾ï¼š`research-task`, `copilot-task`
- æ ‡é¢˜è‡ªåŠ¨æ·»åŠ å‰ç¼€ï¼š`[Research]`
- è‡ªåŠ¨åˆ†é…ç»™ `copilot`

#### 2.2 assign-to-agent

**èƒ½åŠ›**ï¼šå°†åˆ›å»ºçš„ Issue åˆ†é…ç»™ Copilot Agent æ‰§è¡Œ

**é…ç½®**ï¼š

```yaml
safe-outputs:
  assign-to-agent:
```

**è¡Œä¸º**ï¼š

- æ— æ•°é‡é™åˆ¶ï¼ˆç”± workflow é€»è¾‘æ§åˆ¶ï¼‰
- é»˜è®¤åˆ†é…ç»™ `copilot` ç¼–ç  agent

### 3. Issue æ¨¡æ¿ç»“æ„

åˆ›å»ºçš„ Issue éµå¾ªä»¥ä¸‹æ ‡å‡†åŒ–ç»“æ„ï¼š

#### 3.1 è°ƒç ”ç›®æ ‡

```markdown
## ğŸ¯ è°ƒç ”ç›®æ ‡

è°ƒç ”ä¸»é¢˜ï¼š**{topic}**

è¯·æ·±å…¥è°ƒç ”è¯¥ä¸»é¢˜ï¼Œæ•´ç†å‡ºç»“æ„åŒ–çš„çŸ¥è¯†æ–‡æ¡£ã€‚
```

#### 3.2 è¾“å‡ºè¦æ±‚

åŒ…å« 4 ä¸ªå¿…éœ€éƒ¨åˆ†ï¼š

1. **æ–‡ä»¶å¤´éƒ¨**ï¼šåŒ…å«ä¸»é¢˜åç§°ã€è°ƒç ”æ—¥æœŸã€çŠ¶æ€
2. **ç»“è®ºæ‘˜è¦è¡¨æ ¼**ï¼šèƒ½åŠ›/ç‰¹æ€§ã€çŠ¶æ€ã€è¯´æ˜
3. **è¯¦ç»†å†…å®¹**ï¼šæ¯ä¸ªèƒ½åŠ›çš„è¯¦ç»†è¯´æ˜ã€é…ç½®ç¤ºä¾‹ã€ä½¿ç”¨æ³¨æ„äº‹é¡¹
4. **å‚è€ƒæ¥æº**ï¼šå®˜æ–¹æ–‡æ¡£é“¾æ¥æˆ–ä»£ç æ–‡ä»¶è·¯å¾„

#### 3.3 éªŒæ”¶æ ‡å‡†

```markdown
## âœ… éªŒæ”¶æ ‡å‡†

- [ ] æ–‡ä»¶åˆ›å»ºåœ¨æŒ‡å®šè·¯å¾„
- [ ] åŒ…å«ç»“è®ºæ‘˜è¦è¡¨æ ¼
- [ ] æ¯ä¸ªç»“è®ºæœ‰ä¾æ®ï¼ˆæ–‡æ¡£é“¾æ¥æˆ–ä»£ç ç¤ºä¾‹ï¼‰
- [ ] Markdown æ ¼å¼æ­£ç¡®
```

#### 3.4 å·¥ä½œæµä¿¡æ¯

Issue body æœ«å°¾è‡ªåŠ¨æ·»åŠ ï¼š

```markdown
---

> ğŸ¤– æ­¤ Issue ç”± Research Planner è‡ªåŠ¨åˆ›å»ºï¼Œè¯· Copilot Agent æ‰§è¡Œè°ƒç ”å¹¶åˆ›å»º PRã€‚

> AI generated by [Research Planner](https://github.com/.../actions/runs/{run_id})
```

### 4. æƒé™è¦æ±‚

#### 4.1 Workflow æ‰§è¡Œæƒé™

```yaml
permissions:
  contents: read
  issues: read
```

#### 4.2 Safe Outputs æ‰§è¡Œæƒé™

æ ¹æ® `.lock.yml` æ–‡ä»¶åˆ†æï¼Œå®é™…æ‰§è¡Œçš„ `create_issue` å’Œ `assign_to_agent` æ­¥éª¤ä½¿ç”¨ï¼š

```yaml
github-token: ${{ secrets.GH_AW_GITHUB_MCP_SERVER_TOKEN || secrets.GH_AW_GITHUB_TOKEN || secrets.GITHUB_TOKEN }}
```

**æƒé™è¯´æ˜**ï¼š

- `contents: read` - è¯»å–ä»“åº“å†…å®¹
- `issues: read` - è¯»å– Issue ä¿¡æ¯
- **æ³¨æ„**ï¼šåˆ›å»º Issue å’Œåˆ†é… Agent éœ€è¦ `issues: write` æƒé™ï¼Œç”± token æä¾›

### 5. æ‰§è¡Œæµç¨‹

```text
ç”¨æˆ·è§¦å‘ workflow
    â”‚
    â–¼
è¾“å…¥è°ƒç ”ä¸»é¢˜å’Œè¾“å‡ºè·¯å¾„
    â”‚
    â–¼
Copilot Agent åˆ†æéœ€æ±‚
    â”‚
    â–¼
åˆ›å»ºæ ‡å‡†åŒ–è°ƒç ” Issue (create-issue)
    â”‚
    â”œâ”€ æ·»åŠ æ ‡ç­¾ [research-task, copilot-task]
    â”œâ”€ æ·»åŠ æ ‡é¢˜å‰ç¼€ [Research]
    â””â”€ åŒ…å«ç»“æ„åŒ–æ¨¡æ¿
    â”‚
    â–¼
åˆ†é…ç»™ Copilot Agent (assign-to-agent)
    â”‚
    â–¼
Copilot Agent æ‰§è¡Œè°ƒç ”
    â”‚
    â–¼
åˆ›å»º PR å¹¶æäº¤è°ƒç ”æŠ¥å‘Š
```

### 6. ä½¿ç”¨æ³¨æ„äº‹é¡¹

#### 6.1 å‘½åè§„èŒƒ

- è¾“å‡ºè·¯å¾„åº”ä½¿ç”¨ kebab-caseï¼š`docs/research/test-validation.md`
- ä¸»é¢˜åç§°å¯ä½¿ç”¨ä¸­æ–‡æˆ–è‹±æ–‡

#### 6.2 æ–‡ä»¶æ ¼å¼

- å¿…é¡»ä½¿ç”¨ Markdown æ ¼å¼ï¼ˆ`.md`ï¼‰
- éœ€è¦é€šè¿‡ `markdownlint` éªŒè¯
- æœ€å¤§è¡Œå®½ 120 å­—ç¬¦ï¼ˆä»£ç å—å’Œè¡¨æ ¼é™¤å¤–ï¼‰

#### 6.3 ç›®å½•ç®¡ç†

è°ƒç ”æŠ¥å‘Šç»Ÿä¸€å­˜æ”¾åœ¨ `docs/research/` ç›®å½•ï¼š

```text
docs/
â””â”€â”€ research/
    â”œâ”€â”€ README.md          # è°ƒç ”æŠ¥å‘Šç´¢å¼•
    â””â”€â”€ test-validation.md # å…·ä½“è°ƒç ”æŠ¥å‘Š
```

#### 6.4 å·¥ä½œæµç¼–è¯‘

ä¿®æ”¹ `.md` æ–‡ä»¶åå¿…é¡»é‡æ–°ç¼–è¯‘ï¼š

```bash
gh aw compile research-planner
```

ç¼–è¯‘åç”Ÿæˆ `.lock.yml` æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶ä¸åº”æ‰‹åŠ¨ç¼–è¾‘ã€‚

### 7. æŠ€æœ¯å®ç°ç»†èŠ‚

#### 7.1 AI å¼•æ“

```yaml
engine: copilot
```

ä½¿ç”¨ GitHub Copilot ä½œä¸º AI å¼•æ“ï¼Œéœ€è¦é…ç½® `COPILOT_GITHUB_TOKEN` secretã€‚

#### 7.2 å·¥å…·é›†æˆ

```yaml
tools:
  github:
    toolsets: [issues, repos]
```

Agent å¯ä»¥è®¿é—® GitHub Issues å’Œ Repos APIã€‚

#### 7.3 è¶…æ—¶æ§åˆ¶

```yaml
timeout-minutes: 10
```

å·¥ä½œæµæœ€é•¿è¿è¡Œ 10 åˆ†é’Ÿï¼Œé˜²æ­¢æ— é™ç­‰å¾…ã€‚

#### 7.4 ä¸¥æ ¼æ¨¡å¼

```yaml
strict: true
```

å¯ç”¨ä¸¥æ ¼éªŒè¯æ¨¡å¼ï¼Œç¡®ä¿è¾“å‡ºç¬¦åˆè§„èŒƒã€‚

### 8. éªŒè¯ç»“æœ

é€šè¿‡æœ¬æ¬¡è°ƒç ”ä»»åŠ¡ï¼ŒéªŒè¯äº†ä»¥ä¸‹èƒ½åŠ›ï¼š

1. **å·¥ä½œæµè§¦å‘** âœ… - é€šè¿‡ `workflow_dispatch` æˆåŠŸè§¦å‘
2. **å‚æ•°ä¼ é€’** âœ… - `topic` å’Œ `output_path` å‚æ•°æ­£ç¡®ä¼ é€’
3. **Issue åˆ›å»º** âœ… - æˆåŠŸåˆ›å»ºåŒ…å«æ ‡å‡†åŒ–æ¨¡æ¿çš„è°ƒç ” Issue
4. **Agent åˆ†é…** âœ… - æˆåŠŸåˆ†é…ç»™ Copilot Agent
5. **æ‰§è¡Œè°ƒç ”** âœ… - Copilot Agent åˆ†æå·¥ä½œæµç»“æ„å¹¶ç”ŸæˆæŠ¥å‘Š
6. **æ–‡ä»¶åˆ›å»º** âœ… - åœ¨æŒ‡å®šè·¯å¾„åˆ›å»ºè°ƒç ”æ–‡æ¡£
7. **æ ¼å¼éªŒè¯** âœ… - æ–‡æ¡£ç¬¦åˆ Markdown è§„èŒƒ

### 9. æ”¹è¿›å»ºè®®

#### 9.1 å¢å¼ºå‹åŠŸèƒ½

- **è°ƒç ”ç±»å‹æ¨¡æ¿**ï¼šæ”¯æŒä¸åŒç±»å‹çš„è°ƒç ”ï¼ˆæŠ€æœ¯è°ƒç ”ã€ç«å“åˆ†æã€æœ€ä½³å®è·µç­‰ï¼‰
- **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ ¹æ®ä¸»é¢˜è‡ªåŠ¨é€‰æ‹©è¾“å‡ºè¯­è¨€
- **è¿›åº¦è·Ÿè¸ª**ï¼šåœ¨ Issue ä¸­æ·»åŠ è°ƒç ”è¿›åº¦ checklist

#### 9.2 æƒé™ä¼˜åŒ–

- æ˜ç¡®æ–‡æ¡£åŒ–æ‰€éœ€çš„ token æƒé™
- æä¾›æƒé™é…ç½®ç¤ºä¾‹

#### 9.3 é”™è¯¯å¤„ç†

- Issue åˆ›å»ºå¤±è´¥æ—¶çš„é‡è¯•æœºåˆ¶
- Agent åˆ†é…å¤±è´¥æ—¶çš„é€šçŸ¥æœºåˆ¶

## å‚è€ƒæ¥æº

### å®˜æ–¹æ–‡æ¡£

- [GitHub Agentic Workflows å®˜æ–¹æ–‡æ¡£](https://githubnext.github.io/gh-aw/)
- [GitHub Copilot CLI æ–‡æ¡£](https://docs.github.com/en/copilot/using-github-copilot/using-github-copilot-in-the-command-line)

### ä»£ç æ–‡ä»¶

- `.github/workflows/research-planner.md` - å·¥ä½œæµæºæ–‡ä»¶ï¼ˆç¬¬ 1-111 è¡Œï¼‰
- `.github/workflows/research-planner.lock.yml` - ç¼–è¯‘åçš„å·¥ä½œæµæ–‡ä»¶ï¼ˆç¬¬ 1-8058 è¡Œï¼‰
- `docs/research/README.md` - è°ƒç ”æŠ¥å‘Šç›®å½•è¯´æ˜
- `.markdownlint.json` - Markdown æ ¼å¼è§„èŒƒ
- `Makefile` - é¡¹ç›®æ„å»ºå’ŒéªŒè¯å‘½ä»¤ï¼ˆç¬¬ 16-19 è¡Œï¼Œlint å‘½ä»¤ï¼‰

### ç›¸å…³ Issue

- æœ¬æ¬¡æµ‹è¯•ä»»åŠ¡ Issue - è§¦å‘æœ¬æ¬¡è°ƒç ”çš„åŸå§‹ Issue

### å·¥ä½œæµè¿½æº¯

- Workflow Name: `Research Planner`
- Workflow File: `.github/workflows/research-planner.md`
- Safe Outputs: `create-issue`, `assign-to-agent`

---

**ğŸ“ æ€»ç»“**ï¼šResearch Planner æ˜¯ä¸€ä¸ªè®¾è®¡è‰¯å¥½çš„è‡ªåŠ¨åŒ–è°ƒç ”ä»»åŠ¡ç³»ç»Ÿï¼Œèƒ½å¤Ÿé€šè¿‡ç®€å•çš„å‘½ä»¤è§¦å‘ï¼Œè‡ªåŠ¨åˆ›å»ºç»“æ„åŒ–çš„è°ƒç ” Issue
å¹¶åˆ†é…ç»™ Copilot Agent æ‰§è¡Œã€‚ç³»ç»Ÿå…·å¤‡å®Œå–„çš„æƒé™æ§åˆ¶ã€è¶…æ—¶ä¿æŠ¤å’Œè¾“å‡ºé™åˆ¶æœºåˆ¶ï¼Œé€‚åˆç”¨äºå¿«é€Ÿå¯åŠ¨è°ƒç ”ä»»åŠ¡å¹¶ä¿æŒä¸€è‡´çš„æ–‡æ¡£è´¨é‡ã€‚
