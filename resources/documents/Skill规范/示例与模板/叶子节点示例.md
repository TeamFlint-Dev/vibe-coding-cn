# 叶子节点示例

本文档展示一个完整的叶子节点 Skill 示例。

## 示例：verseHelpers

一个提供 Verse 常用辅助函数的叶子 Skill。

### 目录结构

```
verseHelpers/
├── SKILL.md           # 入口文件
├── @changelog.md      # 变更日志
├── snippets/          # 代码片段目录
│   ├── array.verse    # 数组工具
│   ├── math.verse     # 数学工具
│   └── string.verse   # 字符串工具
└── examples/          # 使用示例
    └── usage.md
```

### SKILL.md 完整内容

```markdown
---
name: verseHelpers
description: |
  提供 Verse 常用辅助函数和代码片段。
  当需要数组操作、数学计算、字符串处理等通用工具函数时使用。
status: stable
version: 1.2.0
created: 2024-06-15
updated: 2025-01-10
tags:
  - verse
  - utilities
  - snippets
---

# Verse Helpers

提供 Verse 开发中常用的辅助函数和代码片段。

## When to Use

### 适用场景

- 需要数组操作工具（查找、过滤、映射）
- 需要数学计算辅助（插值、范围限制、随机）
- 需要字符串处理工具（格式化、拼接）
- 项目中需要复用的通用工具函数

### 不适用场景

- 业务逻辑相关的函数
- 需要定制化的复杂算法
- UI 相关的辅助函数（使用 verseUI）

## Context Entry

### 提供

| 入口 | 类型 | 说明 |
|------|------|------|
| [snippets/array.verse](snippets/array.verse) | 代码 | 数组工具函数 |
| [snippets/math.verse](snippets/math.verse) | 代码 | 数学工具函数 |
| [snippets/string.verse](snippets/string.verse) | 代码 | 字符串工具函数 |
| [examples/usage.md](examples/usage.md) | 文档 | 使用示例 |

### 依赖

| 依赖 | 类型 | 说明 |
|------|------|------|
| Verse 语言基础 | 知识 | 需要了解 Verse 语法 |

## Quick Reference

### 数组工具

```verse
# 查找元素
FindFirst<public>(Array:[]t, Predicate:t->logic)<transacts>:?t

# 过滤数组
Filter<public>(Array:[]t, Predicate:t->logic)<transacts>:[]t

# 映射数组
Map<public>(Array:[]t, Transform:t->u)<transacts>:[]u
```

### 数学工具

```verse
# 范围限制
Clamp<public>(Value:float, Min:float, Max:float)<transacts>:float

# 线性插值
Lerp<public>(A:float, B:float, T:float)<transacts>:float

# 随机范围
RandomInRange<public>(Min:float, Max:float)<transacts>:float
```

### 字符串工具

```verse
# 格式化数字
FormatNumber<public>(Value:int, Digits:int)<transacts>:string

# 拼接数组为字符串
Join<public>(Strings:[]string, Separator:string)<transacts>:string
```

## Self-Reflection

### 使用情况

- 高频使用：Clamp、Lerp、FindFirst
- 中频使用：Filter、Map
- 低频使用：字符串工具

### 改进方向

- 添加更多数学函数（贝塞尔曲线）
- 考虑性能优化版本

```

### @changelog.md 内容

```markdown
# Changelog

## [1.2.0] - 2025-01-10

### Added
- 新增 RandomInRange 函数
- 新增 FormatNumber 函数

### Changed
- 优化 Filter 函数性能

## [1.1.0] - 2024-09-20

### Added
- 新增字符串工具模块
- 新增 Map 函数

## [1.0.0] - 2024-06-15

### Added
- 初始版本
- 数组工具：FindFirst, Filter
- 数学工具：Clamp, Lerp
```

## 叶子节点检查清单

使用此清单确保叶子节点 Skill 完整：

```markdown
## 必须项

- [ ] SKILL.md 存在
- [ ] name 和 description 完整
- [ ] When to Use 明确适用/不适用场景
- [ ] Context Entry 列出所有提供内容

## 建议项

- [ ] Quick Reference 提供快速查阅
- [ ] 示例代码或使用说明
- [ ] @changelog.md 记录版本

## 可选项

- [ ] Self-Reflection 记录使用情况
- [ ] @feedback.md 收集反馈
```

---

**相关文档**：

- [分支节点示例](分支节点示例.md)
- [节点结构](../基础规范/节点结构.md)
- [章节模板](../基础规范/章节模板.md)
