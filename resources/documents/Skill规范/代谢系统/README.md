# 代谢系统

Skill 系统通过代谢机制实现自我进化。代谢的能量来源是 Agent 的行为痕迹，通过信号提取、积累和响应，驱动 Skill 的生长、转化和分解。

## 核心理念

> **代谢 = 痕迹 → 信号 → 重构 → 验证**

与传统的"规则驱动进化"不同，代谢系统是**数据驱动**的：

- 不预设信号类型，由审计者从痕迹中发现
- 不预设进化路径，由信号模式触发代谢动作
- 不需要额外验证，重构结果产生新痕迹形成闭环

## 代谢回路

```
┌────────────────────────────────────────────────────────────────────────┐
│                                                                        │
│     ┌──────────────┐                                                   │
│     │   调度器     │ ◀──────────── 触发条件（定时/事件/阈值）          │
│     └──────┬───────┘                                                   │
│            │                                                           │
│            ▼                                                           │
│     ┌──────────────┐      行为痕迹       ┌──────────────┐             │
│     │   创建者     │ ──────────────────▶ │ GitHub       │             │
│     │  (执行Agent) │                     │ Actions 日志 │             │
│     └──────┬───────┘                     └──────┬───────┘             │
│            │                                    │                      │
│            │ 遇到阻力时                         │ 定期/批量             │
│            │ 主动发送信号                       │                      │
│            ▼                                    ▼                      │
│     ┌──────────────────────────────────────────────────┐              │
│     │                    信号池                         │              │
│     │              (GitHub Issues)                     │              │
│     │                                                  │              │
│     │  target: Skill 路径    type: 问题类型           │              │
│     │  相同 target+type 合并，evidence 累加            │              │
│     └──────────────────────────┬───────────────────────┘              │
│                                │                                       │
│                                │ 阈值/模式触发                         │
│                                ▼                                       │
│     ┌──────────────┐    ┌──────────────┐    ┌──────────────┐          │
│     │   审计者     │───▶│   重构者     │───▶│  重构日志    │          │
│     │ (信号提取)   │    │ (演化Agent)  │    │              │          │
│     └──────────────┘    └──────┬───────┘    └──────────────┘          │
│                                │                                       │
│                                ▼                                       │
│                         ┌─────────────┐                                │
│                         │  Skill 池   │                                │
│                         │  (更新后)   │                                │
│                         └──────┬──────┘                                │
│                                │                                       │
│                                │ 被使用，产生新痕迹                     │
│                                ▼                                       │
│                           ┌────────┐                                   │
│                           │  闭环  │                                   │
│                           └────────┘                                   │
│                                                                        │
│  ══════════════════════════════════════════════════════════════════   │
│                        能量 = 行为痕迹                                 │
└────────────────────────────────────────────────────────────────────────┘
```

## 文档结构

| 文档 | 说明 |
|------|------|
| [代谢主体](代谢主体.md) | 创建者、审计者、重构者的职责概述 |
| [创建者](创建者.md) | 执行 Agent：执行任务、产生痕迹、主动发送信号 |
| [审计者](审计者.md) | 提炼 Agent：从痕迹中提取信号、归因到 Skill |
| [重构者](重构者.md) | 演化 Agent：根据信号执行代谢动作 |
| [信号机制](信号机制.md) | 信号的产生、格式、合并规则 |
| [代谢动作](代谢动作.md) | 更新、锐化、生长、拆分、合并、遗忘 |
| [调度规则](调度规则.md) | 何时触发审计、何时触发重构 |

## 与其他规范的关系

- **基础规范**：定义 Skill 的静态结构
- **基建规范**：定义 Skill 的运行时接口
- **代谢系统**：定义 Skill 如何自我进化（包含代谢主体的设计）

---

**相关文档**：

- [基建规范](../基建规范/执行协议.md)
- [基础规范](../基础规范/核心理念.md)
